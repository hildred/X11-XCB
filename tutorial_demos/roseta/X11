<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<title>Window creation/X11 - Rosetta Code</title>
<meta charset="UTF-8"/>
<meta name="generator" content="MediaWiki 1.20.3"/>
<script type="text/javascript">
//<![CDATA[
try{if (!window.CloudFlare) {var CloudFlare=[{verbose:0,p:0,byc:0,owlid:"cf",bag2:1,mirage2:0,oracle:0,paths:{cloudflare:"/cdn-cgi/nexp/dok3v=1613a3a185/"},atok:"783d9de869dd1e85b5e09f9c5232fa39",petok:"80c90a88693ba90c9d329cfb57a55c9b9ba44228-1437176329-1800",betok:"a9a3caead1d88b8e623901301aa643530cb47911-1437176329-120",zone:"rosettacode.org",rocket:"0",apps:{"ga_key":{"ua":"UA-1219419-1","ga_bs":"2"}}}];!function(a,b){a=document.createElement("script"),b=document.getElementsByTagName("script")[0],a.async=!0,a.src="//ajax.cloudflare.com/cdn-cgi/nexp/dok3v=7e13c32551/cloudflare.min.js",b.parentNode.insertBefore(a,b)}()}}catch(e){};
//]]>
</script>
<link rel="alternate" type="application/x-wiki" title="Edit" href="/mw/index.php?title=Window_creation/X11&amp;action=edit"/>
<link rel="edit" title="Edit" href="/mw/index.php?title=Window_creation/X11&amp;action=edit"/>
<link rel="shortcut icon" href="/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="/mw/opensearch_desc.php" title="Rosetta Code (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="http://rosettacode.org/mw/api.php?action=rsd"/>
<link rel="copyright" href="http://www.gnu.org/licenses/fdl-1.2.html"/>
<link rel="alternate" type="application/atom+xml" title="Rosetta Code Atom feed" href="/mw/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<link rel="stylesheet" href="http://rosettacode.org/mw/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&amp;only=styles&amp;skin=vector&amp;*"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="http://rosettacode.org/mw/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*"/>
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}</style>
<script src="http://rosettacode.org/mw/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Window_creation/X11","wgTitle":"Window creation/X11","wgCurRevisionId":206153,"wgArticleId":3109,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Programming Tasks","GUI","ALGOL 68","AutoHotkey/Omit","C","Xlib","XCB","Common Lisp","Common Lisp examples needing attention","Examples needing attention","Field knowledge needed/X11","Field knowledge needed/X11/Common Lisp","CLX","Go","GUISS","Icon","Unicon","Icon Programming Library","Haskell","X11","Java","Mathematica","OCaml","OCaml-Xlib","TI-83 BASIC/Omit","TI-89 BASIC/Omit","PureBasic/Omit","Pascal","XLib, x ,ctypes","Perl","Perl 6","PicoLisp","Python","Python examples needing attention","Field knowledge needed/X11/Python","Python-xlib","Python-xcb","Racket","Scala","Tcl","Critcl","TclOO","ACL2/Omit","Batch File/Omit","AWK/Omit","Erlang/Omit","Locomotive Basic/Omit","Logtalk/Omit","Lotus 123 Macro Scripting/Omit","M4/Omit","Maxima/Omit","PARI/GP/Omit","PostScript/Omit","PowerBASIC/Omit","SNOBOL4/Omit","TPP/Omit","Unlambda/Omit","Retro/Omit"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Window_creation/X11","wgRestrictionEdit":[],"wgRestrictionMove":[],"sfgRemoveText":"Remove","sfgAutocompleteOnAllChars":false,"sfgAutocompleteValues":{},"sfgShowOnSelect":{},"sfgFormErrorsHeader":"There were errors with your form input; see below","sfgBlankErrorStr":"cannot be blank","sfgBadURLErrorStr":"must have the correct URL format, starting with \"http\"","sfgBadEmailErrorStr":"must have a valid email address format","sfgBadNumberErrorStr":"must be a valid number","sfgBadDateErrorStr":"must be a valid date","sfgAnonEditWarning":"Warning: You are not logged in. Your IP address will be recorded in this page\'s edit history."});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,
"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs102":false,"searchNs103":false,"searchNs106":false,"searchNs107":false,"searchNs108":false,"searchNs109":false,"searchNs110":false,"searchNs111":false,"searchNs112":false,"searchNs113":false,"searchNs114":false,"searchNs115":false,"searchNs170":false,"searchNs171":false,"searchNs274":false,"searchNs275":false});;},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","watchToken":false});;},{},{});
/* cache key: rosettacode:resourceloader:filter:minify-js:7:2ce58c77cc7227488637c1087f1776c6 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
<link rel="alternate" type="application/rdf+xml" title="Window creation/X11" href="/mw/index.php?title=Special:ExportRDF/Window_creation/X11&amp;xmlmime=rdf"/>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/mw/skins/vector/csshover.min.htc")}</style><![endif]--><script type="text/javascript">
/* <![CDATA[ */
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-1219419-1']);
_gaq.push(['_trackPageview']);

(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

(function(b){(function(a){"__CF"in b&&"DJS"in b.__CF?b.__CF.DJS.push(a):"addEventListener"in b?b.addEventListener("load",a,!1):b.attachEvent("onload",a)})(function(){"FB"in b&&"Event"in FB&&"subscribe"in FB.Event&&(FB.Event.subscribe("edge.create",function(a){_gaq.push(["_trackSocial","facebook","like",a])}),FB.Event.subscribe("edge.remove",function(a){_gaq.push(["_trackSocial","facebook","unlike",a])}),FB.Event.subscribe("message.send",function(a){_gaq.push(["_trackSocial","facebook","send",a])}));"twttr"in b&&"events"in twttr&&"bind"in twttr.events&&twttr.events.bind("tweet",function(a){if(a){var b;if(a.target&&a.target.nodeName=="IFRAME")a:{if(a=a.target.src){a=a.split("#")[0].match(/[^?=&]+=([^&]*)?/g);b=0;for(var c;c=a[b];++b)if(c.indexOf("url")===0){b=unescape(c.split("=")[1]);break a}}b=void 0}_gaq.push(["_trackSocial","twitter","tweet",b])}})})})(window);
/* ]]> */
</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Window_creation_X11 skin-vector action-view vector-animateLayout">
<div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
 
<div id="content" class="mw-body">
<a id="top"></a>
<div id="mw-js-message" style="display:none;"></div>
 
<h1 id="firstHeading" class="firstHeading"><span dir="auto">Window creation/X11</span></h1>
 
 
<div id="bodyContent">
 
<div id="siteSub">From Rosetta Code</div>
 
 
<div id="contentSub"><span class="subpages">&lt; <a href="/wiki/Window_creation" title="Window creation">Window creation</a></span></div>
 
 
<div id="jump-to-nav" class="mw-jump">
Jump to: <a href="#mw-head">navigation</a>, <a href="#p-search">search</a>
</div>
 
 
<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="infobox" style="width: 2in"><div class="floatleft"><a href="/wiki/Category:Solutions_by_Programming_Task" title="Category:Solutions by Programming Task"><img alt="Task" src="/mw/images/b/ba/Rcode-button-task-crushed.png" width="64" height="64"/></a></div><b>Window creation/X11</b><br/>
You are encouraged to <a href="/wiki/Rosetta_Code:Solve_a_Task" title="Rosetta Code:Solve a Task">solve this task</a> according to the task description, using any language you may know.</div>
<p>Create a simple X11 application, using an X11 protocol library such as Xlib or XCB, that draws a box and "Hello World" in a window. Implementations of this task should <i>avoid using a toolkit</i> as much as possible.
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#ALGOL_68"><span class="tocnumber">1</span> <span class="toctext">ALGOL 68</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#C"><span class="tocnumber">2</span> <span class="toctext">C</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Xlib"><span class="tocnumber">2.1</span> <span class="toctext">Xlib</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#XCB"><span class="tocnumber">2.2</span> <span class="toctext">XCB</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Common_Lisp"><span class="tocnumber">3</span> <span class="toctext">Common Lisp</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Go"><span class="tocnumber">4</span> <span class="toctext">Go</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#GUISS"><span class="tocnumber">5</span> <span class="toctext">GUISS</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Icon_and_Unicon"><span class="tocnumber">6</span> <span class="toctext">Icon and Unicon</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Haskell"><span class="tocnumber">7</span> <span class="toctext">Haskell</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Java"><span class="tocnumber">8</span> <span class="toctext">Java</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Mathematica"><span class="tocnumber">9</span> <span class="toctext">Mathematica</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#OCaml"><span class="tocnumber">10</span> <span class="toctext">OCaml</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#Pascal"><span class="tocnumber">11</span> <span class="toctext">Pascal</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#Perl"><span class="tocnumber">12</span> <span class="toctext">Perl</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="#X11::Protocol"><span class="tocnumber">12.1</span> <span class="toctext">X11::Protocol</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16"><a href="#Perl_6"><span class="tocnumber">13</span> <span class="toctext">Perl 6</span></a></li>
<li class="toclevel-1 tocsection-17"><a href="#PicoLisp"><span class="tocnumber">14</span> <span class="toctext">PicoLisp</span></a></li>
<li class="toclevel-1 tocsection-18"><a href="#Python"><span class="tocnumber">15</span> <span class="toctext">Python</span></a>
<ul>
<li class="toclevel-2 tocsection-19"><a href="#Xlib_2"><span class="tocnumber">15.1</span> <span class="toctext">Xlib</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#XCB_2"><span class="tocnumber">15.2</span> <span class="toctext">XCB</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-21"><a href="#Racket"><span class="tocnumber">16</span> <span class="toctext">Racket</span></a></li>
<li class="toclevel-1 tocsection-22"><a href="#Scala"><span class="tocnumber">17</span> <span class="toctext">Scala</span></a></li>
<li class="toclevel-1 tocsection-23"><a href="#Tcl"><span class="tocnumber">18</span> <span class="toctext">Tcl</span></a>
<ul>
<li class="toclevel-2 tocsection-24"><a href="#Low_level_interface"><span class="tocnumber">18.1</span> <span class="toctext">Low level interface</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Higher_level_interface"><span class="tocnumber">18.2</span> <span class="toctext">Higher level interface</span></a></li>
</ul>
</li>
</ul>
</td></tr></table>
<h2><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=1" title="Edit section: ALGOL 68">edit</a>]</span> <span class="mw-headline" id="ALGOL_68"><a href="/wiki/Category:ALGOL_68" title="Category:ALGOL 68">ALGOL 68</a></span></h2>
<div class="examplemeta workswith"><b>Works with</b>: <a href="/wiki/ALGOL_68G" title="ALGOL 68G" class="mw-redirect">ALGOL 68G</a> version tested with release mk15-0.8b.fc9.i386</div>
<p>Using the X11 &amp; plotutil libraries is not part of any of the original UNESCO/IFIP <a href="/wiki/ALGOL_68" title="ALGOL 68" class="mw-redirect">ALGOL 68</a>
reports. As at December 2008 only <a href="/wiki/ALGOL_68G" title="ALGOL 68G" class="mw-redirect">ALGOL 68G</a> comes with these built in.
</p>
<pre class="algol68 highlighted_source"><span class="kw6">FILE</span> window<span class="sy1">;</span><br/>draw device <span class="br0">&#40;</span>window<span class="sy1">,</span> <span class="st0">&quot;X&quot;</span><span class="sy1">,</span> <span class="st0">&quot;600x400&quot;</span><span class="br0">&#41;</span><span class="sy1">;</span><br/><span class="kw22">open</span> <span class="br0">&#40;</span>window<span class="sy1">,</span> <span class="st0">&quot;Hello, World!&quot;</span><span class="sy1">,</span> <span class="kw21">stand draw channel</span><span class="br0">&#41;</span><span class="sy1">;</span><br/>  draw erase <span class="br0">&#40;</span>window<span class="br0">&#41;</span><span class="sy1">;</span><br/>  draw move <span class="br0">&#40;</span>window<span class="sy1">,</span> <span class="re1">0.25</span><span class="sy1">,</span> <span class="re1">0.5</span><span class="br0">&#41;</span><span class="sy1">;</span><br/>  draw colour <span class="br0">&#40;</span>window<span class="sy1">,</span> 1<span class="sy1">,</span> 0<span class="sy1">,</span> 0<span class="br0">&#41;</span><span class="sy1">;</span><br/>  draw text <span class="br0">&#40;</span>window<span class="sy1">,</span> <span class="st0">&quot;c&quot;</span><span class="sy1">,</span> <span class="st0">&quot;c&quot;</span><span class="sy1">,</span> <span class="st0">&quot;hello world&quot;</span><span class="br0">&#41;</span><span class="sy1">;</span><br/>  draw show <span class="br0">&#40;</span>window<span class="br0">&#41;</span><span class="sy1">;</span><br/>  <span class="kw3">VOID</span> <span class="br0">&#40;</span><span class="kw22">read char</span><span class="br0">&#41;</span><span class="sy1">;</span> <br/><span class="kw22">close</span> <span class="br0">&#40;</span>window<span class="br0">&#41;</span></pre>
<h2><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=2" title="Edit section: C">edit</a>]</span> <span class="mw-headline" id="C"><a href="/wiki/Category:C" title="Category:C">C</a></span></h2>
<h3><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=3" title="Edit section: Xlib">edit</a>]</span> <span class="mw-headline" id="Xlib"> Xlib </span></h3>
<div class="examplemeta libheader"><b>Library:</b> <a href="/wiki/Category:Xlib" title="Category:Xlib">Xlib</a></div>
<p>Compile with:
</p>
<ul><li> gcc hello-x.c -L/usr/X11R6/lib -lX11 -o hello-x
</li></ul>
<pre class="c highlighted_source"><span class="co2">#include &lt;X11/Xlib.h&gt;</span><br/><span class="co2">#include &lt;stdio.h&gt;</span><br/><span class="co2">#include &lt;stdlib.h&gt;</span><br/><span class="co2">#include &lt;string.h&gt;</span><br/>&#160;<br/><span class="kw4">int</span> main<span class="br0">&#40;</span><span class="kw4">void</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br/>   Display <span class="sy0">*</span>d<span class="sy0">;</span><br/>   Window w<span class="sy0">;</span><br/>   XEvent e<span class="sy0">;</span><br/>   <span class="kw4">char</span> <span class="sy0">*</span>msg <span class="sy0">=</span> <span class="st0">&quot;Hello, World!&quot;</span><span class="sy0">;</span><br/>   <span class="kw4">int</span> s<span class="sy0">;</span><br/>&#160;<br/>   d <span class="sy0">=</span> XOpenDisplay<span class="br0">&#40;</span>NULL<span class="br0">&#41;</span><span class="sy0">;</span><br/>   <span class="kw1">if</span> <span class="br0">&#40;</span>d <span class="sy0">==</span> NULL<span class="br0">&#41;</span> <span class="br0">&#123;</span><br/>      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/fprintf.html"><span class="kw3">fprintf</span></a><span class="br0">&#40;</span>stderr<span class="sy0">,</span> <span class="st0">&quot;Cannot open display<span class="es1">\n</span>&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/exit.html"><span class="kw3">exit</span></a><span class="br0">&#40;</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>   <span class="br0">&#125;</span><br/>&#160;<br/>   s <span class="sy0">=</span> DefaultScreen<span class="br0">&#40;</span>d<span class="br0">&#41;</span><span class="sy0">;</span><br/>   w <span class="sy0">=</span> XCreateSimpleWindow<span class="br0">&#40;</span>d<span class="sy0">,</span> RootWindow<span class="br0">&#40;</span>d<span class="sy0">,</span> s<span class="br0">&#41;</span><span class="sy0">,</span> <span class="nu0">10</span><span class="sy0">,</span> <span class="nu0">10</span><span class="sy0">,</span> <span class="nu0">100</span><span class="sy0">,</span> <span class="nu0">100</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span><br/>                           BlackPixel<span class="br0">&#40;</span>d<span class="sy0">,</span> s<span class="br0">&#41;</span><span class="sy0">,</span> WhitePixel<span class="br0">&#40;</span>d<span class="sy0">,</span> s<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>   XSelectInput<span class="br0">&#40;</span>d<span class="sy0">,</span> w<span class="sy0">,</span> ExposureMask <span class="sy0">|</span> KeyPressMask<span class="br0">&#41;</span><span class="sy0">;</span><br/>   XMapWindow<span class="br0">&#40;</span>d<span class="sy0">,</span> w<span class="br0">&#41;</span><span class="sy0">;</span><br/>&#160;<br/>   <span class="kw1">while</span> <span class="br0">&#40;</span><span class="nu0">1</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br/>      XNextEvent<span class="br0">&#40;</span>d<span class="sy0">,</span> <span class="sy0">&amp;</span>e<span class="br0">&#41;</span><span class="sy0">;</span><br/>      <span class="kw1">if</span> <span class="br0">&#40;</span>e.<span class="me1">type</span> <span class="sy0">==</span> Expose<span class="br0">&#41;</span> <span class="br0">&#123;</span><br/>         XFillRectangle<span class="br0">&#40;</span>d<span class="sy0">,</span> w<span class="sy0">,</span> DefaultGC<span class="br0">&#40;</span>d<span class="sy0">,</span> s<span class="br0">&#41;</span><span class="sy0">,</span> <span class="nu0">20</span><span class="sy0">,</span> <span class="nu0">20</span><span class="sy0">,</span> <span class="nu0">10</span><span class="sy0">,</span> <span class="nu0">10</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>         XDrawString<span class="br0">&#40;</span>d<span class="sy0">,</span> w<span class="sy0">,</span> DefaultGC<span class="br0">&#40;</span>d<span class="sy0">,</span> s<span class="br0">&#41;</span><span class="sy0">,</span> <span class="nu0">10</span><span class="sy0">,</span> <span class="nu0">50</span><span class="sy0">,</span> msg<span class="sy0">,</span> <a href="http://www.opengroup.org/onlinepubs/009695399/functions/strlen.html"><span class="kw3">strlen</span></a><span class="br0">&#40;</span>msg<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>      <span class="br0">&#125;</span><br/>      <span class="kw1">if</span> <span class="br0">&#40;</span>e.<span class="me1">type</span> <span class="sy0">==</span> KeyPress<span class="br0">&#41;</span><br/>         <span class="kw2">break</span><span class="sy0">;</span><br/>   <span class="br0">&#125;</span><br/>&#160;<br/>   XCloseDisplay<span class="br0">&#40;</span>d<span class="br0">&#41;</span><span class="sy0">;</span><br/>   <span class="kw1">return</span> <span class="nu0">0</span><span class="sy0">;</span><br/><span class="br0">&#125;</span></pre>
<h3><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=4" title="Edit section: XCB">edit</a>]</span> <span class="mw-headline" id="XCB"> XCB </span></h3>
<div class="examplemeta libheader"><b>Library:</b> <a href="/wiki/Category:XCB" title="Category:XCB">XCB</a></div>
<p>Compile with:
</p>
<ul><li> gcc -o helloxcb helloxcb.c -lxcb
</li></ul>
<pre class="c highlighted_source"><span class="co2">#include &lt;stdlib.h&gt;</span><br/><span class="co2">#include &lt;stdio.h&gt;</span><br/><span class="co2">#include &lt;string.h&gt;</span><br/>&#160;<br/><span class="co2">#include &lt;xcb/xcb.h&gt;</span><br/>&#160;<br/><span class="kw4">int</span> main <span class="br0">&#40;</span><span class="br0">&#41;</span><br/><span class="br0">&#123;</span><br/>  xcb_connection_t    <span class="sy0">*</span>c<span class="sy0">;</span><br/>  xcb_screen_t        <span class="sy0">*</span>screen<span class="sy0">;</span><br/>  xcb_drawable_t       win<span class="sy0">;</span><br/>  xcb_gcontext_t       foreground<span class="sy0">;</span><br/>  xcb_gcontext_t       background<span class="sy0">;</span><br/>  xcb_generic_event_t <span class="sy0">*</span>e<span class="sy0">;</span><br/>  <span class="kw4">uint32_t</span>             mask <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span><br/>  <span class="kw4">uint32_t</span>             values<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span><span class="sy0">;</span><br/>&#160;<br/>  <span class="kw4">char</span> string<span class="br0">&#91;</span><span class="br0">&#93;</span> <span class="sy0">=</span> <span class="st0">&quot;Hello, XCB!&quot;</span><span class="sy0">;</span><br/>  <span class="kw4">uint8_t</span> string_len <span class="sy0">=</span> <a href="http://www.opengroup.org/onlinepubs/009695399/functions/strlen.html"><span class="kw3">strlen</span></a><span class="br0">&#40;</span>string<span class="br0">&#41;</span><span class="sy0">;</span><br/>&#160;<br/>  xcb_rectangle_t rectangles<span class="br0">&#91;</span><span class="br0">&#93;</span> <span class="sy0">=</span> <span class="br0">&#123;</span><br/>    <span class="br0">&#123;</span><span class="nu0">40</span><span class="sy0">,</span> <span class="nu0">40</span><span class="sy0">,</span> <span class="nu0">20</span><span class="sy0">,</span> <span class="nu0">20</span><span class="br0">&#125;</span><span class="sy0">,</span><br/>  <span class="br0">&#125;</span><span class="sy0">;</span><br/>&#160;<br/>  c <span class="sy0">=</span> xcb_connect <span class="br0">&#40;</span>NULL<span class="sy0">,</span> NULL<span class="br0">&#41;</span><span class="sy0">;</span><br/>&#160;<br/>  <span class="coMULTI">/* get the first screen */</span><br/>  screen <span class="sy0">=</span> xcb_setup_roots_iterator <span class="br0">&#40;</span>xcb_get_setup <span class="br0">&#40;</span>c<span class="br0">&#41;</span><span class="br0">&#41;</span>.<span class="me1">data</span><span class="sy0">;</span><br/>&#160;<br/>  <span class="coMULTI">/* root window */</span><br/>  win <span class="sy0">=</span> screen<span class="sy0">-&gt;</span>root<span class="sy0">;</span><br/>&#160;<br/>  <span class="coMULTI">/* create black (foreground) graphic context */</span><br/>  foreground <span class="sy0">=</span> xcb_generate_id <span class="br0">&#40;</span>c<span class="br0">&#41;</span><span class="sy0">;</span><br/>  mask <span class="sy0">=</span> XCB_GC_FOREGROUND <span class="sy0">|</span> XCB_GC_GRAPHICS_EXPOSURES<span class="sy0">;</span><br/>  values<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span> <span class="sy0">=</span> screen<span class="sy0">-&gt;</span>black_pixel<span class="sy0">;</span><br/>  values<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span><br/>  xcb_create_gc <span class="br0">&#40;</span>c<span class="sy0">,</span> foreground<span class="sy0">,</span> win<span class="sy0">,</span> mask<span class="sy0">,</span> values<span class="br0">&#41;</span><span class="sy0">;</span><br/>&#160;<br/>  <span class="coMULTI">/* create white (background) graphic context */</span><br/>  background <span class="sy0">=</span> xcb_generate_id <span class="br0">&#40;</span>c<span class="br0">&#41;</span><span class="sy0">;</span><br/>  mask <span class="sy0">=</span> XCB_GC_BACKGROUND <span class="sy0">|</span> XCB_GC_GRAPHICS_EXPOSURES<span class="sy0">;</span><br/>  values<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span> <span class="sy0">=</span> screen<span class="sy0">-&gt;</span>white_pixel<span class="sy0">;</span><br/>  values<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span><br/>  xcb_create_gc <span class="br0">&#40;</span>c<span class="sy0">,</span> background<span class="sy0">,</span> win<span class="sy0">,</span> mask<span class="sy0">,</span> values<span class="br0">&#41;</span><span class="sy0">;</span><br/>&#160;<br/>  <span class="coMULTI">/* create the window */</span><br/>  win <span class="sy0">=</span> xcb_generate_id<span class="br0">&#40;</span>c<span class="br0">&#41;</span><span class="sy0">;</span><br/>  mask <span class="sy0">=</span> XCB_CW_BACK_PIXEL <span class="sy0">|</span> XCB_CW_EVENT_MASK<span class="sy0">;</span><br/>  values<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span> <span class="sy0">=</span> screen<span class="sy0">-&gt;</span>white_pixel<span class="sy0">;</span><br/>  values<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span> <span class="sy0">=</span> XCB_EVENT_MASK_EXPOSURE <span class="sy0">|</span> XCB_EVENT_MASK_KEY_PRESS<span class="sy0">;</span><br/>  xcb_create_window <span class="br0">&#40;</span>c<span class="sy0">,</span>                             <span class="coMULTI">/* connection    */</span><br/>                     XCB_COPY_FROM_PARENT<span class="sy0">,</span>          <span class="coMULTI">/* depth         */</span><br/>                     win<span class="sy0">,</span>                           <span class="coMULTI">/* window Id     */</span><br/>                     screen<span class="sy0">-&gt;</span>root<span class="sy0">,</span>                  <span class="coMULTI">/* parent window */</span><br/>                     <span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span>                          <span class="coMULTI">/* x, y          */</span><br/>                     <span class="nu0">150</span><span class="sy0">,</span> <span class="nu0">150</span><span class="sy0">,</span>                      <span class="coMULTI">/* width, height */</span><br/>                     <span class="nu0">10</span><span class="sy0">,</span>                            <span class="coMULTI">/* border_width  */</span><br/>                     XCB_WINDOW_CLASS_INPUT_OUTPUT<span class="sy0">,</span> <span class="coMULTI">/* class         */</span><br/>                     screen<span class="sy0">-&gt;</span>root_visual<span class="sy0">,</span>           <span class="coMULTI">/* visual        */</span><br/>                     mask<span class="sy0">,</span> values<span class="br0">&#41;</span><span class="sy0">;</span>                 <span class="coMULTI">/* masks         */</span><br/>&#160;<br/>  <span class="coMULTI">/* map the window on the screen */</span><br/>  xcb_map_window <span class="br0">&#40;</span>c<span class="sy0">,</span> win<span class="br0">&#41;</span><span class="sy0">;</span><br/>&#160;<br/>  xcb_flush <span class="br0">&#40;</span>c<span class="br0">&#41;</span><span class="sy0">;</span><br/>&#160;<br/>  <span class="kw1">while</span> <span class="br0">&#40;</span><span class="br0">&#40;</span>e <span class="sy0">=</span> xcb_wait_for_event <span class="br0">&#40;</span>c<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br/>    <span class="kw1">switch</span> <span class="br0">&#40;</span>e<span class="sy0">-&gt;</span>response_type <span class="sy0">&amp;</span> ~<span class="nu12">0x80</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br/>    <span class="kw1">case</span> XCB_EXPOSE<span class="sy0">:</span><br/>      xcb_poly_rectangle <span class="br0">&#40;</span>c<span class="sy0">,</span> win<span class="sy0">,</span> foreground<span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> rectangles<span class="br0">&#41;</span><span class="sy0">;</span><br/>      xcb_image_text_8 <span class="br0">&#40;</span>c<span class="sy0">,</span> string_len<span class="sy0">,</span> win<span class="sy0">,</span> background<span class="sy0">,</span> <span class="nu0">20</span><span class="sy0">,</span> <span class="nu0">20</span><span class="sy0">,</span> string<span class="br0">&#41;</span><span class="sy0">;</span><br/>      xcb_flush <span class="br0">&#40;</span>c<span class="br0">&#41;</span><span class="sy0">;</span><br/>      <span class="kw2">break</span><span class="sy0">;</span><br/>    <span class="kw1">case</span> XCB_KEY_PRESS<span class="sy0">:</span><br/>      <span class="kw1">goto</span> endloop<span class="sy0">;</span><br/>    <span class="br0">&#125;</span><br/>    <a href="http://www.opengroup.org/onlinepubs/009695399/functions/free.html"><span class="kw3">free</span></a> <span class="br0">&#40;</span>e<span class="br0">&#41;</span><span class="sy0">;</span><br/>  <span class="br0">&#125;</span><br/>  endloop<span class="sy0">:</span><br/>&#160;<br/>  <span class="kw1">return</span> <span class="nu0">0</span><span class="sy0">;</span><br/><span class="br0">&#125;</span></pre>
<h2><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=5" title="Edit section: Common Lisp">edit</a>]</span> <span class="mw-headline" id="Common_Lisp"><a href="/wiki/Category:Common_Lisp" title="Category:Common Lisp">Common Lisp</a></span></h2>
<table class="messagebox" style="text-align: center; background-color: #ffffd8; clear: both;">
<tr>
<td> This example needs review by someone who knows about: <a href="/mw/index.php?title=Category:Field_knowledge_needed/X11&amp;action=edit&amp;redlink=1" class="new" title="Category:Field knowledge needed/X11 (page does not exist)"><b>X11</b></a> <div class="messagebox-inset" style="border: 1px solid #aaa; background: white; color: black; font-size: 89%; padding: 2px;">This example was written in near-total ignorance of X11 by consulting the <a rel="nofollow" class="external text" href="http://www.cliki.net/CLX%20Manual">CLX manual</a> to find equivalents for the parts of the C example. It was also only tested with <a href="/wiki/Mac_OS_X" title="Mac OS X" class="mw-redirect">Mac OS X</a> X11, which is not exactly normal. â€” (ps: Testing on Linux (Fedora 21/x86-64), it seems to display black-on-black, so the "Hello" is lost.)</div>
<p>If you know X11, please review this example and, as necessary, improve it or describe what should be done for someone who knows the language.
</p>
</td></tr></table>
<div class="examplemeta translation"><b>Translation of</b>: <a href="/wiki/Window_creation/X11#C" title="Window creation/X11">C</a></div>
<div class="examplemeta libheader"><b>Library:</b> <a href="/wiki/Category:CLX" title="Category:CLX">CLX</a></div>
<p>This example uses CLX, which is the de facto standard X11 library for Common Lisp. CLX is not a binding to Xlib; it is a Lisp library implementing the X11 protocol.
</p>
<pre class="lisp highlighted_source"><span class="co1">;;; Single-file/interactive setup; large applications should define an ASDF system instead</span><br/><span class="br0">&#40;</span>cl<span class="sy0">:</span><span class="me1">require</span> <span class="sy0">:</span><span class="me1">asdf</span><span class="br0">&#41;</span><br/><span class="br0">&#40;</span>asdf<span class="sy0">:</span><span class="me1">operate</span> 'asdf<span class="sy0">:</span><span class="me1">load-op</span> <span class="sy0">:</span><span class="me1">clx</span><span class="br0">&#41;</span><br/><span class="br0">&#40;</span>cl<span class="sy0">:</span><span class="me1">defpackage</span> #<span class="sy0">:</span><span class="me1">rc-xlib-window</span><br/>  <span class="br0">&#40;</span><span class="sy0">:</span><span class="me1">use</span> #<span class="sy0">:</span><span class="me1">cl</span> #<span class="sy0">:</span><span class="me1">xlib</span><span class="br0">&#41;</span><span class="br0">&#41;</span><br/><span class="br0">&#40;</span>cl<span class="sy0">:</span><span class="me1">in-package</span> #<span class="sy0">:</span><span class="me1">rc-xlib-window</span><span class="br0">&#41;</span><br/>&#160;<br/><span class="br0">&#40;</span><span class="kw1">let</span> <span class="br0">&#40;</span><span class="br0">&#40;</span>display <span class="br0">&#40;</span>open-default-display<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><br/>  <span class="br0">&#40;</span>unwind-protect<br/>      <span class="br0">&#40;</span><span class="kw1">let</span>* <span class="br0">&#40;</span><span class="br0">&#40;</span>window <span class="br0">&#40;</span>create-window <span class="sy0">:</span><span class="me1">parent</span> <span class="br0">&#40;</span>screen-root <span class="br0">&#40;</span>display-default-screen display<span class="br0">&#41;</span><span class="br0">&#41;</span><br/>                                    <span class="sy0">:</span><span class="me1">x</span> <span class="nu0">10</span><br/>                                    <span class="sy0">:</span><span class="me1">y</span> <span class="nu0">10</span><br/>                                    <span class="sy0">:</span><span class="me1">width</span> <span class="nu0">100</span><br/>                                    <span class="sy0">:</span><span class="me1">height</span> <span class="nu0">100</span><br/>                                    <span class="sy0">:</span><span class="me1">event-mask</span> '<span class="br0">&#40;</span><span class="sy0">:</span><span class="me1">exposure</span> <span class="sy0">:</span><span class="me1">key-press</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><br/>             <span class="br0">&#40;</span>gc <span class="br0">&#40;</span>create-gcontext <span class="sy0">:</span><span class="me1">drawable</span> window<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><br/>        <span class="br0">&#40;</span>map-window window<span class="br0">&#41;</span><br/>        <span class="br0">&#40;</span>event-<span class="kw1">case</span> <span class="br0">&#40;</span>display <span class="sy0">:</span><span class="me1">discard-p</span> t<span class="br0">&#41;</span><br/>          <span class="br0">&#40;</span>exposure <span class="br0">&#40;</span><span class="br0">&#41;</span><br/>            <span class="br0">&#40;</span>draw-rectangle window gc <span class="nu0">20</span> <span class="nu0">20</span> <span class="nu0">10</span> <span class="nu0">10</span> t<span class="br0">&#41;</span><br/>            <span class="br0">&#40;</span>draw-glyphs window gc <span class="nu0">10</span> <span class="nu0">40</span> <span class="st0">&quot;Hello, World!&quot;</span><span class="br0">&#41;</span><br/>            <span class="kw1">nil</span> #<span class="sy0">|</span> <span class="kw1">continue</span> receiving events <span class="sy0">|</span>#<span class="br0">&#41;</span><br/>          <span class="br0">&#40;</span>key-press <span class="br0">&#40;</span><span class="br0">&#41;</span><br/>            t #<span class="sy0">|</span> non-<span class="kw1">nil</span> result signals event-<span class="kw1">case</span> to exit <span class="sy0">|</span>#<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><br/>    <span class="br0">&#40;</span>close-display display<span class="br0">&#41;</span><span class="br0">&#41;</span></pre>
<h2><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=6" title="Edit section: Go">edit</a>]</span> <span class="mw-headline" id="Go"><a href="/wiki/Category:Go" title="Category:Go">Go</a></span></h2>
<div class="examplemeta translation"><b>Translation of</b>: <a href="/wiki/Window_creation/X11#C" title="Window creation/X11">C</a></div>
<pre class="go highlighted_source"><span class="kw1">package</span> main<br/>&#160;<br/><span class="kw1">import</span> <span class="sy1">(</span><br/>    <span class="st0">&quot;code.google.com/p/x-go-binding/xgb&quot;</span><br/>    <span class="st0">&quot;fmt&quot;</span><br/><span class="sy1">)</span><br/>&#160;<br/><span class="kw4">func</span> main<span class="sy1">()</span> <span class="sy1">{</span><br/>    c<span class="sy1">,</span> err <span class="sy2">:=</span> xgb<span class="sy3">.</span>Dial<span class="sy1">(</span><span class="st0">&quot;&quot;</span><span class="sy1">)</span><br/>    <span class="kw1">if</span> err <span class="sy2">!=</span> <span class="kw2">nil</span> <span class="sy1">{</span><br/>        fmt<span class="sy3">.</span>Println<span class="sy1">(</span>err<span class="sy1">)</span><br/>        <span class="kw1">return</span><br/>    <span class="sy1">}</span><br/>    <span class="kw1">defer</span> c<span class="sy3">.</span>Close<span class="sy1">()</span><br/>&#160;<br/>    strBytes <span class="sy2">:=</span> <span class="sy1">[]</span><span class="kw4">byte</span><span class="sy1">(</span><span class="st0">&quot;Hello XGB!&quot;</span><span class="sy1">)</span><br/>    rectangles <span class="sy2">:=</span> <span class="sy1">[]</span>xgb<span class="sy3">.</span>Rectangle<span class="sy1">{{</span><span class="nu0">40</span><span class="sy1">,</span> <span class="nu0">40</span><span class="sy1">,</span> <span class="nu0">20</span><span class="sy1">,</span> <span class="nu0">20</span><span class="sy1">}}</span><br/>&#160;<br/>    <span class="co1">// get the first screen</span><br/>    s <span class="sy2">:=</span> c<span class="sy3">.</span><span class="me1">DefaultScreen</span><span class="sy1">()</span><br/>&#160;<br/>    <span class="co1">// root window</span><br/>    win <span class="sy2">:=</span> s<span class="sy3">.</span><span class="me1">Root</span><br/>&#160;<br/>    <span class="co1">// create black (foreground) graphic context</span><br/>    fg <span class="sy2">:=</span> c<span class="sy3">.</span>NewId<span class="sy1">()</span><br/>    mask <span class="sy2">:=</span> <span class="kw4">uint32</span><span class="sy1">(</span>xgb<span class="sy3">.</span>GCForeground <span class="sy3">|</span> xgb<span class="sy3">.</span>GCGraphicsExposures<span class="sy1">)</span><br/>    values <span class="sy2">:=</span> <span class="sy1">[]</span><span class="kw4">uint32</span><span class="sy1">{</span>s<span class="sy3">.</span>BlackPixel<span class="sy1">,</span> <span class="nu0">0</span><span class="sy1">}</span><br/>    c<span class="sy3">.</span>CreateGC<span class="sy1">(</span>fg<span class="sy1">,</span> win<span class="sy1">,</span> mask<span class="sy1">,</span> values<span class="sy1">)</span><br/>&#160;<br/>    <span class="co1">// create white (background) graphic context</span><br/>    bg <span class="sy2">:=</span> c<span class="sy3">.</span>NewId<span class="sy1">()</span><br/>    mask <span class="sy2">=</span> <span class="kw4">uint32</span><span class="sy1">(</span>xgb<span class="sy3">.</span>GCBackground <span class="sy3">|</span> xgb<span class="sy3">.</span>GCGraphicsExposures<span class="sy1">)</span><br/>    values<span class="sy1">[</span><span class="nu0">0</span><span class="sy1">]</span> <span class="sy2">=</span> s<span class="sy3">.</span>WhitePixel <span class="co1">// (values[1] still 0)</span><br/>    c<span class="sy3">.</span><span class="me1">CreateGC</span><span class="sy1">(</span>bg<span class="sy1">,</span> win<span class="sy1">,</span> mask<span class="sy1">,</span> values<span class="sy1">)</span><br/>&#160;<br/>    <span class="co1">//  create the window</span><br/>    win <span class="sy2">=</span> c<span class="sy3">.</span><span class="me1">NewId</span><span class="sy1">()</span><br/>    mask <span class="sy2">=</span> xgb<span class="sy3">.</span><span class="me1">CWBackPixel</span> <span class="sy3">|</span> xgb<span class="sy3">.</span><span class="me1">CWEventMask</span><br/>    <span class="co1">// values[0] still s.WhitePixel</span><br/>    values<span class="sy1">[</span><span class="nu0">1</span><span class="sy1">]</span> <span class="sy2">=</span> xgb<span class="sy3">.</span>EventMaskExposure <span class="sy3">|</span> xgb<span class="sy3">.</span>EventMaskKeyPress<br/>    c<span class="sy3">.</span>CreateWindow<span class="sy1">(</span><span class="nu0">0</span><span class="sy1">,</span> win<span class="sy1">,</span> s<span class="sy3">.</span>Root<span class="sy1">,</span> <span class="nu0">0</span><span class="sy1">,</span> <span class="nu0">0</span><span class="sy1">,</span> <span class="nu0">150</span><span class="sy1">,</span> <span class="nu0">150</span><span class="sy1">,</span> <span class="nu0">10</span><span class="sy1">,</span><br/>        xgb<span class="sy3">.</span>WindowClassInputOutput<span class="sy1">,</span> s<span class="sy3">.</span>RootVisual<span class="sy1">,</span> mask<span class="sy1">,</span> values<span class="sy1">)</span><br/>    c<span class="sy3">.</span>MapWindow<span class="sy1">(</span>win<span class="sy1">)</span><br/>&#160;<br/>    <span class="kw1">for</span> <span class="sy1">{</span><br/>        event<span class="sy1">,</span> err <span class="sy2">:=</span> c<span class="sy3">.</span>WaitForEvent<span class="sy1">()</span><br/>        <span class="kw1">if</span> err <span class="sy2">!=</span> <span class="kw2">nil</span> <span class="sy1">{</span><br/>            fmt<span class="sy3">.</span>Println<span class="sy1">(</span>err<span class="sy1">)</span><br/>            <span class="kw1">return</span><br/>        <span class="sy1">}</span><br/>        <span class="kw1">switch</span> event<span class="sy3">.</span><span class="sy1">(</span><span class="kw1">type</span><span class="sy1">)</span> <span class="sy1">{</span><br/>        <span class="kw1">case</span> xgb<span class="sy3">.</span>ExposeEvent<span class="sy1">:</span><br/>            c<span class="sy3">.</span>PolyRectangle<span class="sy1">(</span>win<span class="sy1">,</span> fg<span class="sy1">,</span> rectangles<span class="sy1">)</span><br/>            c<span class="sy3">.</span>ImageText8<span class="sy1">(</span>win<span class="sy1">,</span> bg<span class="sy1">,</span> <span class="nu0">20</span><span class="sy1">,</span> <span class="nu0">20</span><span class="sy1">,</span> strBytes<span class="sy1">)</span><br/>        <span class="kw1">case</span> xgb<span class="sy3">.</span>KeyPressEvent<span class="sy1">:</span><br/>            <span class="kw1">return</span><br/>        <span class="sy1">}</span><br/>    <span class="sy1">}</span><br/><span class="sy1">}</span></pre>
<p>Screen capture:
</p><p><a href="/wiki/File:Go-x11.png" class="image"><img alt="Go-x11.png" src="/mw/images/4/44/Go-x11.png" width="152" height="180"/></a>
</p>
<h2><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=7" title="Edit section: GUISS">edit</a>]</span> <span class="mw-headline" id="GUISS"><a href="/wiki/Category:GUISS" title="Category:GUISS">GUISS</a></span></h2>
<p>Graphical User Interface Support Script is really a language for operating a computer, rather than programming one, so we cannot do this via X11 libraries. The example uses leafpad for our open window, and the box symbols to enclose our text:
</p>
<pre class="text highlighted_source">Start,Programs,Applications,Editors,Leafpad,Textbox,<br/>Type:[openbox]Hello World[pling][closebox]</pre>
<h2><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=8" title="Edit section: Icon and Unicon">edit</a>]</span> <span class="mw-headline" id="Icon_and_Unicon"><a href="/wiki/Category:Icon" title="Category:Icon">Icon</a> and <a href="/wiki/Category:Unicon" title="Category:Unicon">Unicon</a></span></h2>
<p>Icon and Unicon provide a portable graphics implementation that does not rely upon a toolkit. The intent is to be platform independent and the same code runs on multiple platforms without change and producing results with only minor variations. Icon and Unicon graphics are implemented in X-Windows as well as MS-Windows and others. There are additional 3D graphics capabilities implemented using opengl.
</p>
<pre class="icon highlighted_source"><span class="kw1">procedure</span> main<span class="br0">&#40;</span><span class="br0">&#41;</span><br/>   W1 <span class="sy1">:=</span> <span class="kw4">open</span><span class="br0">&#40;</span><span class="st0">&quot;X-Window&quot;</span><span class="sy1">,</span><span class="st0">&quot;g&quot;</span><span class="sy1">,</span><span class="st0">&quot;size=250,250&quot;</span><span class="sy1">,</span><span class="st0">&quot;bg=black&quot;</span><span class="sy1">,</span><span class="st0">&quot;fg=red&quot;</span><span class="br0">&#41;</span> <span class="sy1">|</span> <span class="kw4">stop</span><span class="br0">&#40;</span><span class="st0">&quot;unable to open window&quot;</span><span class="br0">&#41;</span><br/>   <span class="kw5">FillRectangle</span><span class="br0">&#40;</span>W1<span class="sy1">,</span><span class="nu0">50</span><span class="sy1">,</span><span class="nu0">50</span><span class="sy1">,</span><span class="nu0">150</span><span class="sy1">,</span><span class="nu0">150</span><span class="br0">&#41;</span><br/>   WDone<span class="br0">&#40;</span>W1<span class="br0">&#41;</span><br/><span class="kw1">end</span><br/>&#160;<br/><span class="kw1">link</span> graphics</pre>
<div class="examplemeta libheader"><b>Library:</b> <a href="/wiki/Category:Icon_Programming_Library" title="Category:Icon Programming Library">Icon Programming Library</a></div>
<p><a rel="nofollow" class="external text" href="http://www.cs.arizona.edu/icon/library/src/procs/graphics.icn">graphics.icn provides graphics</a>
</p><p>Additionally, the <b>WOpen</b> procedure and Window.App methods are available.
</p>
<h2><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=9" title="Edit section: Haskell">edit</a>]</span> <span class="mw-headline" id="Haskell"><a href="/wiki/Category:Haskell" title="Category:Haskell">Haskell</a></span></h2>
Using <div class="examplemeta libheader"><b>Library:</b> <a href="/mw/index.php?title=Category:X11&amp;action=edit&amp;redlink=1" class="new" title="Category:X11 (page does not exist)">X11</a></div> from <a rel="nofollow" class="external text" href="http://hackage.haskell.org/packages/hackage.html">HackageDB</a>
<pre class="haskell highlighted_source"><span class="kw1">import</span> Graphics<span class="sy0">.</span>X11<span class="sy0">.</span>Xlib<br/><span class="kw1">import</span> Control<span class="sy0">.</span>Concurrent <span class="br0">&#40;</span>threadDelay<span class="br0">&#41;</span><br/>&#160;<br/>main <span class="sy0">=</span> <span class="kw1">do</span><br/>  display <span class="sy0">&lt;-</span> openDisplay <span class="st0">&quot;&quot;</span><br/>  <span class="kw1">let</span> defScr <span class="sy0">=</span> defaultScreen display<br/>  rw <span class="sy0">&lt;-</span> rootWindow display defScr<br/>&#160;<br/>  xwin <span class="sy0">&lt;-</span> createSimpleWindow display rw<br/>      <span class="nu0">0</span> <span class="nu0">0</span> <span class="nu0">400</span> <span class="nu0">200</span> <span class="nu0">1</span><br/>      <span class="br0">&#40;</span>blackPixel display defScr<span class="br0">&#41;</span><br/>      <span class="br0">&#40;</span>whitePixel display defScr<span class="br0">&#41;</span><br/>&#160;<br/>  setTextProperty display xwin <span class="st0">&quot;Rosetta Code: X11 simple window&quot;</span> wM<span class="sy0">_</span>NAME<br/>&#160;<br/>  mapWindow display xwin<br/>&#160;<br/>  sync display False<br/>  threadDelay <span class="br0">&#40;</span><span class="nu0">5000000</span><span class="br0">&#41;</span><br/>&#160;<br/>  destroyWindow display xwin<br/>  closeDisplay display<br/>&#160;</pre>
<h2><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=10" title="Edit section: Java">edit</a>]</span> <span class="mw-headline" id="Java"><a href="/wiki/Category:Java" title="Category:Java">Java</a></span></h2>
<div class="examplemeta libheader"><b>Library:</b> <a href="/wiki/Category:Java" title="Category:Java">Java</a></div>compile
<pre>javac WindowExample.java
</pre>
<p>run
</p>
<pre>java WindowExample
</pre>
<pre class="java highlighted_source"><span class="kw1">import</span> <span class="co2">javax.swing.JFrame</span><span class="sy0">;</span><br/><span class="kw1">import</span> <span class="co2">javax.swing.SwingUtilities</span><span class="sy0">;</span><br/>&#160;<br/><span class="kw1">public</span> <span class="kw1">class</span> WindowExample <span class="br0">&#123;</span><br/>&#160;<br/>  <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span><br/>    <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Arunnable+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">Runnable</span></a> runnable <span class="sy0">=</span> <span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Arunnable+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">Runnable</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br/>      <span class="kw1">public</span> <span class="kw4">void</span> run<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br/>	createAndShow<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>      <span class="br0">&#125;</span><br/>    <span class="br0">&#125;</span><span class="sy0">;</span><br/>    <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Aswingutilities+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">SwingUtilities</span></a>.<span class="me1">invokeLater</span><span class="br0">&#40;</span>runnable<span class="br0">&#41;</span><span class="sy0">;</span><br/>  <span class="br0">&#125;</span><br/>&#160;<br/>  <span class="kw1">static</span> <span class="kw4">void</span> createAndShow<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br/>    <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Ajframe+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">JFrame</span></a> frame <span class="sy0">=</span> <span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Ajframe+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">JFrame</span></a><span class="br0">&#40;</span><span class="st0">&quot;Hello World&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>    frame.<span class="me1">setSize</span><span class="br0">&#40;</span><span class="nu0">640</span>,<span class="nu0">480</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>    frame.<span class="me1">setDefaultCloseOperation</span><span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Ajframe+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">JFrame</span></a>.<span class="me1">EXIT_ON_CLOSE</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>    frame.<span class="me1">setVisible</span><span class="br0">&#40;</span><span class="kw2">true</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>  <span class="br0">&#125;</span><br/><span class="br0">&#125;</span></pre>The previous example works but doesn't write any text or draw any box; the following does both.<pre class="java highlighted_source"><span class="kw1">import</span> <span class="co2">java.awt.*</span><span class="sy0">;</span><br/><span class="kw1">import</span> <span class="co2">java.awt.event.*</span><span class="sy0">;</span><br/><span class="kw1">import</span> <span class="co2">java.awt.geom.*</span><span class="sy0">;</span><br/><span class="kw1">import</span> <span class="co2">javax.swing.*</span><span class="sy0">;</span><br/>&#160;<br/><span class="kw1">public</span> <span class="kw1">class</span> WindowExample <span class="kw1">extends</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Ajapplet+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">JApplet</span></a> <span class="br0">&#123;</span><br/>    <span class="kw1">public</span> <span class="kw4">void</span> paint<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Agraphics+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">Graphics</span></a> g<span class="br0">&#41;</span> <span class="br0">&#123;</span><br/>        <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Agraphics2d+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">Graphics2D</span></a> g2 <span class="sy0">=</span> <span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Agraphics2d+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">Graphics2D</span></a><span class="br0">&#41;</span> g<span class="sy0">;</span><br/>&#160;<br/>        g2.<span class="me1">setStroke</span><span class="br0">&#40;</span><span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Abasicstroke+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">BasicStroke</span></a><span class="br0">&#40;</span>2.0f<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>        g2.<span class="me1">drawString</span><span class="br0">&#40;</span><span class="st0">&quot;Hello java&quot;</span>, <span class="nu0">20</span>, <span class="nu0">20</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>        g2.<span class="me1">setPaint</span><span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Acolor+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">Color</span></a>.<span class="me1">blue</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>        g2.<span class="me1">draw</span><span class="br0">&#40;</span><span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Arectangle2d+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">Rectangle2D</span></a>.<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adouble+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">Double</span></a><span class="br0">&#40;</span><span class="nu0">40</span>, <span class="nu0">40</span>, <span class="nu0">20</span>, <span class="nu0">20</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>    <span class="br0">&#125;</span><br/>&#160;<br/>    <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a> s<span class="br0">&#91;</span><span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br/>        <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Ajframe+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">JFrame</span></a> f <span class="sy0">=</span> <span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Ajframe+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">JFrame</span></a><span class="br0">&#40;</span><span class="st0">&quot;ShapesDemo2D&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>        f.<span class="me1">addWindowListener</span><span class="br0">&#40;</span><span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Awindowadapter+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">WindowAdapter</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br/>            <span class="kw1">public</span> <span class="kw4">void</span> windowClosing<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Awindowevent+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">WindowEvent</span></a> e<span class="br0">&#41;</span> <span class="br0">&#123;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">System</span></a>.<span class="me1">exit</span><span class="br0">&#40;</span><span class="nu0">0</span><span class="br0">&#41;</span><span class="sy0">;</span><span class="br0">&#125;</span><br/>        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>        <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Ajapplet+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">JApplet</span></a> applet <span class="sy0">=</span> <span class="kw1">new</span> ShapesDemo2D<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>        f.<span class="me1">getContentPane</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">add</span><span class="br0">&#40;</span><span class="st0">&quot;Center&quot;</span>, applet<span class="br0">&#41;</span><span class="sy0">;</span><br/>        f.<span class="me1">pack</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>        f.<span class="me1">setSize</span><span class="br0">&#40;</span><span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adimension+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">Dimension</span></a><span class="br0">&#40;</span><span class="nu0">150</span>, <span class="nu0">150</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>        f.<span class="me1">setVisible</span><span class="br0">&#40;</span><span class="kw2">true</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>    <span class="br0">&#125;</span><br/><span class="br0">&#125;</span></pre>
<h2><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=11" title="Edit section: Mathematica">edit</a>]</span> <span class="mw-headline" id="Mathematica"><a href="/wiki/Category:Mathematica" title="Category:Mathematica">Mathematica</a></span></h2>
<p>Note that GUIKit is a high-level wrapper for Swing.
</p>
<pre class="text highlighted_source">&#160;<br/> Needs[&quot;GUIKit`&quot;]<br/> ref = GUIRun[Widget[&quot;Panel&quot;, {<br/>    Widget[<br/>     &quot;ImageLabel&quot;, {&quot;data&quot; -&gt; <br/>       Script[ExportString[Graphics[Rectangle[{0, 0}, {1, 1}]], <br/>         &quot;GIF&quot;]]}],<br/>    Widget[&quot;Label&quot;, { &quot;text&quot; -&gt; &quot;Hello World!&quot;}]}<br/>   ]]<br/>&#160;</pre>
<h2><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=12" title="Edit section: OCaml">edit</a>]</span> <span class="mw-headline" id="OCaml"><a href="/wiki/Category:OCaml" title="Category:OCaml">OCaml</a></span></h2>
<div class="examplemeta libheader"><b>Library:</b> <a href="/wiki/Category:OCaml-Xlib" title="Category:OCaml-Xlib">OCaml-Xlib</a></div>
<p>execute as a script with:
</p>
<pre>ocaml -I +Xlib Xlib.cma script.ml
</pre>
<p>or compile to native code:
</p>
<pre>ocamlopt -I +Xlib Xlib.cmxa prog.ml -o prog
</pre>
<p>or to make a standalone script add these lines at the beginning of the file:
</p>
<pre>#!/usr/bin/env ocaml
#directory "+Xlib"
#load "Xlib.cma"
</pre>
<pre class="ocaml highlighted_source"><span class="kw1">open</span> Xlib<br/>&#160;<br/><span class="kw1">let</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">=</span><br/>  <span class="kw1">let</span> d <span class="sy0">=</span> xOpenDisplay <span class="st0">&quot;&quot;</span> <span class="kw1">in</span><br/>  <span class="kw1">let</span> s <span class="sy0">=</span> xDefaultScreen d <span class="kw1">in</span><br/>  <span class="kw1">let</span> w <span class="sy0">=</span> xCreateSimpleWindow d <span class="br0">&#40;</span>xRootWindow d s<span class="br0">&#41;</span> <span class="nu0">10</span> <span class="nu0">10</span> <span class="nu0">100</span> <span class="nu0">100</span> <span class="nu0">1</span><br/>                                <span class="br0">&#40;</span>xBlackPixel d s<span class="br0">&#41;</span> <span class="br0">&#40;</span>xWhitePixel d s<span class="br0">&#41;</span> <span class="kw1">in</span><br/>  xSelectInput d w <span class="br0">&#91;</span>ExposureMask<span class="sy0">;</span> KeyPressMask<span class="br0">&#93;</span><span class="sy0">;</span><br/>  xMapWindow d w<span class="sy0">;</span><br/>&#160;<br/>  <span class="kw1">let</span> msg <span class="sy0">=</span> <span class="st0">&quot;Hello, World!&quot;</span> <span class="kw1">in</span><br/>&#160;<br/>  <span class="kw1">let</span> <span class="kw1">rec</span> main_loop<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">=</span><br/>    <span class="kw1">match</span> xEventType<span class="br0">&#40;</span>xNextEventFun d<span class="br0">&#41;</span> <span class="kw1">with</span><br/>    <span class="sy0">|</span> Expose <span class="sy0">-&gt;</span><br/>        xFillRectangle d w <span class="br0">&#40;</span>xDefaultGC d s<span class="br0">&#41;</span> <span class="nu0">20</span> <span class="nu0">20</span> <span class="nu0">10</span> <span class="nu0">10</span><span class="sy0">;</span><br/>        xDrawString d w <span class="br0">&#40;</span>xDefaultGC d s<span class="br0">&#41;</span> <span class="nu0">10</span> <span class="nu0">50</span> msg<span class="sy0">;</span><br/>        main_loop<span class="br0">&#40;</span><span class="br0">&#41;</span><br/>    <span class="sy0">|</span> KeyPress <span class="sy0">-&gt;</span> <span class="br0">&#40;</span><span class="br0">&#41;</span>  <span class="co1">(* exit main loop *)</span><br/>    <span class="sy0">|</span> _ <span class="sy0">-&gt;</span> main_loop<span class="br0">&#40;</span><span class="br0">&#41;</span><br/>  <span class="kw1">in</span><br/>  main_loop<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>  xCloseDisplay d<span class="sy0">;</span><br/><span class="sy0">;;</span></pre>
<h2><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=13" title="Edit section: Pascal">edit</a>]</span> <span class="mw-headline" id="Pascal"><a href="/wiki/Category:Pascal" title="Category:Pascal">Pascal</a></span></h2>
<div class="examplemeta translation"><b>Translation of</b>: <a href="/wiki/Window_creation/X11#C" title="Window creation/X11">C</a></div>
<div class="examplemeta libheader"><b>Library:</b> <a href="/mw/index.php?title=Category:XLib,_x_,ctypes&amp;action=edit&amp;redlink=1" class="new" title="Category:XLib, x ,ctypes (page does not exist)">xLib, x ,ctypes</a></div>
<p>from wiki.freepascal.org/X11#Examples.
Compiled with Freepascal 2.6.4-32
</p>
<pre class="pascal highlighted_source"><span class="kw1">program</span> xshowwindow<span class="sy1">;</span><br/><span class="co2">{$mode objfpc}{$H+}</span><br/>&#160;<br/><span class="kw1">uses</span><br/>  xlib<span class="sy1">,</span> x<span class="sy1">,</span> ctypes<span class="sy1">;</span><br/>&#160;<br/><span class="kw1">procedure</span> ModalShowX11Window<span class="br0">&#40;</span>AMsg<span class="sy1">:</span> <span class="kw4">string</span><span class="br0">&#41;</span><span class="sy1">;</span><br/><span class="kw1">var</span><br/>  d<span class="sy1">:</span> PDisplay<span class="sy1">;</span><br/>  w<span class="sy1">:</span> TWindow<span class="sy1">;</span><br/>  e<span class="sy1">:</span> TXEvent<span class="sy1">;</span><br/>  msg<span class="sy1">:</span> PChar<span class="sy1">;</span><br/>  s<span class="sy1">:</span> cint<span class="sy1">;</span><br/><span class="kw1">begin</span><br/>  msg <span class="sy1">:</span><span class="sy3">=</span> PChar<span class="br0">&#40;</span>AMsg<span class="br0">&#41;</span><span class="sy1">;</span><br/>&#160;<br/>  <span class="coMULTI">{ open connection with the server }</span><br/>  d <span class="sy1">:</span><span class="sy3">=</span> XOpenDisplay<span class="br0">&#40;</span><span class="kw2">nil</span><span class="br0">&#41;</span><span class="sy1">;</span><br/>  <span class="kw1">if</span> <span class="br0">&#40;</span>d <span class="sy3">=</span> <span class="kw2">nil</span><span class="br0">&#41;</span> <span class="kw1">then</span><br/>  <span class="kw1">begin</span><br/>    <span class="kw3">WriteLn</span><span class="br0">&#40;</span><span class="st0">'[ModalShowX11Window] Cannot open display'</span><span class="br0">&#41;</span><span class="sy1">;</span><br/>    exit<span class="sy1">;</span><br/>  <span class="kw1">end</span><span class="sy1">;</span><br/>  s <span class="sy1">:</span><span class="sy3">=</span> DefaultScreen<span class="br0">&#40;</span>d<span class="br0">&#41;</span><span class="sy1">;</span><br/>&#160;<br/>  <span class="coMULTI">{ create window }</span><br/>  w <span class="sy1">:</span><span class="sy3">=</span> XCreateSimpleWindow<span class="br0">&#40;</span>d<span class="sy1">,</span> RootWindow<span class="br0">&#40;</span>d<span class="sy1">,</span> s<span class="br0">&#41;</span><span class="sy1">,</span> <span class="nu0">10</span><span class="sy1">,</span> <span class="nu0">10</span><span class="sy1">,</span> <span class="nu0">100</span><span class="sy1">,</span> <span class="nu0">50</span><span class="sy1">,</span> <span class="nu0">1</span><span class="sy1">,</span><br/>                           BlackPixel<span class="br0">&#40;</span>d<span class="sy1">,</span> s<span class="br0">&#41;</span><span class="sy1">,</span> WhitePixel<span class="br0">&#40;</span>d<span class="sy1">,</span> s<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy1">;</span><br/>&#160;<br/>  <span class="coMULTI">{ select kind of events we are interested in }</span><br/>  XSelectInput<span class="br0">&#40;</span>d<span class="sy1">,</span> w<span class="sy1">,</span> ExposureMask <span class="kw1">or</span> KeyPressMask<span class="br0">&#41;</span><span class="sy1">;</span><br/>&#160;<br/>  <span class="coMULTI">{ map (show) the window }</span><br/>  XMapWindow<span class="br0">&#40;</span>d<span class="sy1">,</span> w<span class="br0">&#41;</span><span class="sy1">;</span><br/>&#160;<br/>  <span class="coMULTI">{ event loop }</span><br/>  <span class="kw1">while</span> <span class="br0">&#40;</span><span class="kw2">True</span><span class="br0">&#41;</span> <span class="kw1">do</span><br/>  <span class="kw1">begin</span><br/>    XNextEvent<span class="br0">&#40;</span>d<span class="sy1">,</span> <span class="sy2">@</span>e<span class="br0">&#41;</span><span class="sy1">;</span><br/>    <span class="coMULTI">{ draw or redraw the window }</span><br/>    <span class="kw1">if</span> <span class="br0">&#40;</span>e<span class="sy1">.</span>_type <span class="sy3">=</span> Expose<span class="br0">&#41;</span> <span class="kw1">then</span><br/>    <span class="kw1">begin</span><br/>      XFillRectangle<span class="br0">&#40;</span>d<span class="sy1">,</span> w<span class="sy1">,</span> DefaultGC<span class="br0">&#40;</span>d<span class="sy1">,</span> s<span class="br0">&#41;</span><span class="sy1">,</span> <span class="nu0">0</span><span class="sy1">,</span> <span class="nu0">10</span><span class="sy1">,</span> <span class="nu0">100</span><span class="sy1">,</span> <span class="nu0">3</span><span class="br0">&#41;</span><span class="sy1">;</span><br/>      XFillRectangle<span class="br0">&#40;</span>d<span class="sy1">,</span> w<span class="sy1">,</span> DefaultGC<span class="br0">&#40;</span>d<span class="sy1">,</span> s<span class="br0">&#41;</span><span class="sy1">,</span> <span class="nu0">0</span><span class="sy1">,</span> <span class="nu0">30</span><span class="sy1">,</span> <span class="nu0">100</span><span class="sy1">,</span> <span class="nu0">3</span><span class="br0">&#41;</span><span class="sy1">;</span>      <br/>      XDrawString   <span class="br0">&#40;</span>d<span class="sy1">,</span> w<span class="sy1">,</span> DefaultGC<span class="br0">&#40;</span>d<span class="sy1">,</span> s<span class="br0">&#41;</span><span class="sy1">,</span> <span class="nu0">5</span><span class="sy1">,</span> <span class="nu0">25</span><span class="sy1">,</span> msg<span class="sy1">,</span> strlen<span class="br0">&#40;</span>msg<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy1">;</span><br/>    <span class="kw1">end</span><span class="sy1">;</span><br/>    <span class="coMULTI">{ exit on key press }</span><br/>    <span class="kw1">if</span> <span class="br0">&#40;</span>e<span class="sy1">.</span>_type <span class="sy3">=</span> KeyPress<span class="br0">&#41;</span> <span class="kw1">then</span> <span class="kw1">Break</span><span class="sy1">;</span><br/>  <span class="kw1">end</span><span class="sy1">;</span><br/>&#160;<br/>  <span class="coMULTI">{ close connection to server }</span><br/>  XCloseDisplay<span class="br0">&#40;</span>d<span class="br0">&#41;</span><span class="sy1">;</span><br/><span class="kw1">end</span><span class="sy1">;</span><br/>&#160;<br/><span class="kw1">begin</span><br/>  ModalShowX11Window<span class="br0">&#40;</span><span class="st0">'Hello, World!'</span><span class="br0">&#41;</span><span class="sy1">;</span><br/><span class="kw1">end</span><span class="sy1">.</span><br/>&#160;</pre>
<h2><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=14" title="Edit section: Perl">edit</a>]</span> <span class="mw-headline" id="Perl"><a href="/wiki/Category:Perl" title="Category:Perl">Perl</a></span></h2>
<h3><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=15" title="Edit section: X11::Protocol">edit</a>]</span> <span class="mw-headline" id="X11::Protocol"> X11::Protocol </span></h3>
<pre class="perl highlighted_source"><span class="co1">#!/usr/bin/perl -w</span><br/><span class="kw2">use</span> strict<span class="sy0">;</span><br/><span class="kw2">use</span> X11<span class="sy0">::</span><span class="me2">Protocol</span><span class="sy0">;</span><br/>&#160;<br/><span class="kw1">my</span> <span class="re0">$X</span> <span class="sy0">=</span> X11<span class="sy0">::</span><span class="me2">Protocol</span><span class="sy0">-&gt;</span><span class="kw2">new</span><span class="sy0">;</span><br/>&#160;<br/><span class="kw1">my</span> <span class="re0">$window</span> <span class="sy0">=</span> <span class="re0">$X</span><span class="sy0">-&gt;</span><span class="me1">new_rsrc</span><span class="sy0">;</span><br/><span class="re0">$X</span><span class="sy0">-&gt;</span><span class="me1">CreateWindow</span> <span class="br0">&#40;</span><span class="re0">$window</span><span class="sy0">,</span><br/>                  <span class="re0">$X</span><span class="sy0">-&gt;</span><span class="me1">root</span><span class="sy0">,</span>         <span class="co1"># parent window</span><br/>                  <span class="st_h">'InputOutput'</span><span class="sy0">,</span>    <span class="co1"># class</span><br/>                  <span class="nu0">0</span><span class="sy0">,</span>                <span class="co1"># depth, copy from parent</span><br/>                  <span class="nu0">0</span><span class="sy0">,</span>                <span class="co1"># visual, copy from parent</span><br/>                  <span class="nu0">0</span><span class="sy0">,</span><span class="nu0">0</span><span class="sy0">,</span>              <span class="co1"># X,Y (window manager will override)</span><br/>                  <span class="nu0">300</span><span class="sy0">,</span><span class="nu0">100</span><span class="sy0">,</span>          <span class="co1"># width,height</span><br/>                  <span class="nu0">0</span><span class="sy0">,</span>                <span class="co1"># border width</span><br/>                  background_pixel <span class="sy0">=&gt;</span> <span class="re0">$X</span><span class="sy0">-&gt;</span><span class="me1">black_pixel</span><span class="sy0">,</span><br/>                  event_mask       <span class="sy0">=&gt;</span> <span class="re0">$X</span><span class="sy0">-&gt;</span><span class="me1">pack_event_mask</span><span class="br0">&#40;</span><span class="st_h">'Exposure'</span><span class="sy0">,</span><br/>                                                          <span class="st_h">'ButtonPress'</span><span class="br0">&#41;</span><span class="sy0">,</span><br/>                 <span class="br0">&#41;</span><span class="sy0">;</span><br/>&#160;<br/><span class="kw1">my</span> <span class="re0">$gc</span> <span class="sy0">=</span> <span class="re0">$X</span><span class="sy0">-&gt;</span><span class="me1">new_rsrc</span><span class="sy0">;</span><br/><span class="re0">$X</span><span class="sy0">-&gt;</span><span class="me1">CreateGC</span> <span class="br0">&#40;</span><span class="re0">$gc</span><span class="sy0">,</span> <span class="re0">$window</span><span class="sy0">,</span><br/>              foreground <span class="sy0">=&gt;</span> <span class="re0">$X</span><span class="sy0">-&gt;</span><span class="me1">white_pixel</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>&#160;<br/><span class="re0">$X</span><span class="sy0">-&gt;</span><span class="br0">&#123;</span><span class="st_h">'event_handler'</span><span class="br0">&#125;</span> <span class="sy0">=</span> <span class="kw2">sub</span> <span class="br0">&#123;</span><br/>  <span class="kw1">my</span> <span class="re0">%event</span> <span class="sy0">=</span> <span class="co5">@_</span><span class="sy0">;</span><br/>  <span class="kw1">my</span> <span class="re0">$event_name</span> <span class="sy0">=</span> <span class="re0">$event</span><span class="br0">&#123;</span><span class="st_h">'name'</span><span class="br0">&#125;</span><span class="sy0">;</span><br/>&#160;<br/>  <span class="kw1">if</span> <span class="br0">&#40;</span><span class="re0">$event_name</span> <span class="kw1">eq</span> <span class="st_h">'Expose'</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br/>    <span class="re0">$X</span><span class="sy0">-&gt;</span><span class="me1">PolyRectangle</span> <span class="br0">&#40;</span><span class="re0">$window</span><span class="sy0">,</span> <span class="re0">$gc</span><span class="sy0">,</span> <span class="br0">&#91;</span> <span class="nu0">10</span><span class="sy0">,</span><span class="nu0">10</span><span class="sy0">,</span>     <span class="co1"># x,y top-left corner</span><br/>                                       <span class="nu0">30</span><span class="sy0">,</span><span class="nu0">20</span> <span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>  <span class="co1"># width,height</span><br/>    <span class="re0">$X</span><span class="sy0">-&gt;</span><span class="me1">PolyText8</span> <span class="br0">&#40;</span><span class="re0">$window</span><span class="sy0">,</span> <span class="re0">$gc</span><span class="sy0">,</span><br/>                   <span class="nu0">10</span><span class="sy0">,</span> <span class="nu0">55</span><span class="sy0">,</span>    <span class="co1"># X,Y of text baseline</span><br/>                   <span class="br0">&#91;</span> <span class="nu0">0</span><span class="sy0">,</span>  <span class="co1"># delta X</span><br/>                     <span class="st_h">'Hello ... click mouse button to exit.'</span> <span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>&#160;<br/>  <span class="br0">&#125;</span> <span class="kw1">elsif</span> <span class="br0">&#40;</span><span class="re0">$event_name</span> <span class="kw1">eq</span> <span class="st_h">'ButtonPress'</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br/>    <a href="http://perldoc.perl.org/functions/exit.html"><span class="kw3">exit</span></a> <span class="nu0">0</span><span class="sy0">;</span><br/>  <span class="br0">&#125;</span><br/><span class="br0">&#125;</span><span class="sy0">;</span><br/>&#160;<br/><span class="re0">$X</span><span class="sy0">-&gt;</span><span class="me1">MapWindow</span> <span class="br0">&#40;</span><span class="re0">$window</span><span class="br0">&#41;</span><span class="sy0">;</span><br/><span class="kw1">for</span> <span class="br0">&#40;</span><span class="sy0">;;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br/>  <span class="re0">$X</span><span class="sy0">-&gt;</span><span class="me1">handle_input</span><span class="sy0">;</span><br/><span class="br0">&#125;</span></pre>
<h2><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=16" title="Edit section: Perl 6">edit</a>]</span> <span class="mw-headline" id="Perl_6"><a href="/wiki/Category:Perl_6" title="Category:Perl 6">Perl 6</a></span></h2>
<div class="examplemeta translation"><b>Translation of</b>: <a href="/wiki/Window_creation/X11#C" title="Window creation/X11">C</a></div>
<p>There is not yet a X11 library in Perl 6 but we can write the minimal C mappings for this task.
Notice that the mapping for XEvent requires a manual set up which depends on the number of bits of your machine. This is due to a current bug in NativeCall on MoarVM.
</p>
<pre class="perl6 highlighted_source"><span class="kw2">use</span> NativeCall<span class="sy0">;</span><br/>&#160;<br/><span class="kw2">class</span> Display <span class="kw1">is</span> repr<span class="br0">&#40;</span><span class="st_h">'CStruct'</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><span class="br0">&#125;</span><br/><span class="kw2">class</span> GC      <span class="kw1">is</span> repr<span class="br0">&#40;</span><span class="st_h">'CStruct'</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><span class="br0">&#125;</span><br/><span class="kw2">class</span> XEvent  <span class="kw1">is</span> repr<span class="br0">&#40;</span><span class="st_h">'CStruct'</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br/>    <span class="kw1">has</span> int32 <span class="re0">$</span><span class="sy0">.</span><span class="me1">type</span><span class="sy0">;</span>  <span class="co1"># for 32 bits machine</span><br/>    <span class="co1">#has int   $.type;  # for 64 bits machine</span><br/>    <span class="kw2">method</span> init <span class="br0">&#123;</span> <span class="re0">$!type</span> <span class="sy0">=</span> <span class="nu0">0</span> <span class="br0">&#125;</span><br/><span class="br0">&#125;</span><br/>&#160;<br/><span class="kw2">sub</span> XOpenDisplay<span class="br0">&#40;</span>Str <span class="re0">$name</span> <span class="sy0">=</span> <span class="st_h">':0'</span><span class="br0">&#41;</span> <span class="kw1">returns</span> Display <span class="kw1">is</span> native<span class="br0">&#40;</span><span class="st_h">'libX11'</span><span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="sy0">*</span> <span class="br0">&#125;</span><br/><span class="kw2">sub</span> XDefaultScreen<span class="br0">&#40;</span>Display $<span class="br0">&#41;</span> <span class="kw1">returns</span> int <span class="kw1">is</span> native<span class="br0">&#40;</span><span class="st_h">'libX11'</span><span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="sy0">*</span> <span class="br0">&#125;</span><br/><span class="kw2">sub</span> XRootWindow<span class="br0">&#40;</span>Display $<span class="sy0">,</span> int <span class="re0">$screen_number</span><span class="br0">&#41;</span> <span class="kw1">returns</span> int <span class="kw1">is</span> native<span class="br0">&#40;</span><span class="st_h">'libX11'</span><span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="sy0">*</span> <span class="br0">&#125;</span>  <br/><span class="kw2">sub</span> XBlackPixel<span class="br0">&#40;</span>Display $<span class="sy0">,</span> int <span class="re0">$screen_number</span><span class="br0">&#41;</span> <span class="kw1">returns</span> int <span class="kw1">is</span> native<span class="br0">&#40;</span><span class="st_h">'libX11'</span><span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="sy0">*</span> <span class="br0">&#125;</span><br/><span class="kw2">sub</span> XWhitePixel<span class="br0">&#40;</span>Display $<span class="sy0">,</span> int <span class="re0">$screen_number</span><span class="br0">&#41;</span> <span class="kw1">returns</span> int <span class="kw1">is</span> native<span class="br0">&#40;</span><span class="st_h">'libX11'</span><span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="sy0">*</span> <span class="br0">&#125;</span><br/><span class="kw2">sub</span> XCreateSimpleWindow<span class="br0">&#40;</span><br/>    Display $<span class="sy0">,</span> int <span class="re0">$parent_window</span><span class="sy0">,</span> int <span class="re0">$x</span><span class="sy0">,</span> int <span class="re0">$y</span><span class="sy0">,</span><br/>    int <span class="re0">$width</span><span class="sy0">,</span> int <span class="re0">$height</span><span class="sy0">,</span> int <span class="re0">$border_width</span><span class="sy0">,</span><br/>    int <span class="re0">$border</span><span class="sy0">,</span> int <span class="re0">$background</span><br/><span class="br0">&#41;</span> <span class="kw1">returns</span> int <span class="kw1">is</span> native<span class="br0">&#40;</span><span class="st_h">'libX11'</span><span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="sy0">*</span> <span class="br0">&#125;</span><br/><span class="kw2">sub</span> XMapWindow<span class="br0">&#40;</span>Display $<span class="sy0">,</span> int <span class="re0">$window</span><span class="br0">&#41;</span> <span class="kw1">is</span> native<span class="br0">&#40;</span><span class="st_h">'libX11'</span><span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="sy0">*</span> <span class="br0">&#125;</span><br/><span class="kw2">sub</span> XSelectInput<span class="br0">&#40;</span>Display $<span class="sy0">,</span> int <span class="re0">$window</span><span class="sy0">,</span> int <span class="re0">$mask</span><span class="br0">&#41;</span> <span class="kw1">is</span> native<span class="br0">&#40;</span><span class="st_h">'libX11'</span><span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="sy0">*</span> <span class="br0">&#125;</span><br/><span class="kw2">sub</span> XFillRectangle<span class="br0">&#40;</span><br/>    Display $<span class="sy0">,</span> int <span class="re0">$window</span><span class="sy0">,</span> GC $<span class="sy0">,</span> int <span class="re0">$x</span><span class="sy0">,</span> int <span class="re0">$y</span><span class="sy0">,</span> int <span class="re0">$width</span><span class="sy0">,</span> int <span class="re0">$height</span><br/><span class="br0">&#41;</span> <span class="kw1">is</span> native<span class="br0">&#40;</span><span class="st_h">'libX11'</span><span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="sy0">*</span> <span class="br0">&#125;</span><br/><span class="kw2">sub</span> XDrawString<span class="br0">&#40;</span><br/>    Display $<span class="sy0">,</span> int <span class="re0">$window</span><span class="sy0">,</span> GC $<span class="sy0">,</span> int <span class="re0">$x</span><span class="sy0">,</span> int <span class="re0">$y</span><span class="sy0">,</span> Str $<span class="sy0">,</span> int <span class="re0">$str_length</span><br/><span class="br0">&#41;</span> <span class="kw1">is</span> native<span class="br0">&#40;</span><span class="st_h">'libX11'</span><span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="sy0">*</span> <span class="br0">&#125;</span><br/><span class="kw2">sub</span> XDefaultGC<span class="br0">&#40;</span>Display $<span class="sy0">,</span> int <span class="re0">$screen</span><span class="br0">&#41;</span> <span class="kw1">returns</span> GC <span class="kw1">is</span> native<span class="br0">&#40;</span><span class="st_h">'libX11'</span><span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="sy0">*</span> <span class="br0">&#125;</span><br/><span class="kw2">sub</span> XNextEvent<span class="br0">&#40;</span>Display $<span class="sy0">,</span> XEvent <span class="re0">$e</span><span class="br0">&#41;</span>              <span class="kw1">is</span> native<span class="br0">&#40;</span><span class="st_h">'libX11'</span><span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="sy0">*</span> <span class="br0">&#125;</span><br/><span class="kw2">sub</span> XCloseDisplay<span class="br0">&#40;</span>Display $<span class="br0">&#41;</span>                      <span class="kw1">is</span> native<span class="br0">&#40;</span><span class="st_h">'libX11'</span><span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="sy0">*</span> <span class="br0">&#125;</span><br/>&#160;<br/><span class="kw1">my</span> Display <span class="re0">$display</span> <span class="sy0">=</span> XOpenDisplay<span class="br0">&#40;</span><span class="br0">&#41;</span><br/>    <span class="kw1">or</span> <span class="kw1">die</span> <span class="st0">&quot;Can not open display&quot;</span><span class="sy0">;</span><br/>&#160;<br/><span class="kw1">my</span> int <span class="re0">$screen</span> <span class="sy0">=</span> XDefaultScreen<span class="br0">&#40;</span><span class="re0">$display</span><span class="br0">&#41;</span><span class="sy0">;</span><br/><span class="kw1">my</span> int <span class="re0">$window</span> <span class="sy0">=</span> XCreateSimpleWindow<span class="br0">&#40;</span><br/>    <span class="re0">$display</span><span class="sy0">,</span><br/>    XRootWindow<span class="br0">&#40;</span><span class="re0">$display</span><span class="sy0">,</span> <span class="re0">$screen</span><span class="br0">&#41;</span><span class="sy0">,</span><br/>    <span class="nu0">10</span><span class="sy0">,</span> <span class="nu0">10</span><span class="sy0">,</span> <span class="nu0">100</span><span class="sy0">,</span> <span class="nu0">100</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span><br/>    XBlackPixel<span class="br0">&#40;</span><span class="re0">$display</span><span class="sy0">,</span> <span class="re0">$screen</span><span class="br0">&#41;</span><span class="sy0">,</span> XWhitePixel<span class="br0">&#40;</span><span class="re0">$display</span><span class="sy0">,</span> <span class="re0">$screen</span><span class="br0">&#41;</span><br/><span class="br0">&#41;</span><span class="sy0">;</span><br/>XSelectInput<span class="br0">&#40;</span><span class="re0">$display</span><span class="sy0">,</span> <span class="re0">$window</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="sy0">+&lt;</span> <span class="nu0">15</span> <span class="sy0">+|</span> <span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>XMapWindow<span class="br0">&#40;</span><span class="re0">$display</span><span class="sy0">,</span> <span class="re0">$window</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>&#160;<br/><span class="kw1">my</span> Str <span class="re0">$msg</span> <span class="sy0">=</span> <span class="st_h">'Hello, World!'</span><span class="sy0">;</span><br/><span class="kw1">my</span> XEvent <span class="re0">$e</span> <span class="sy0">.=</span> <span class="kw2">new</span><span class="sy0">;</span> <span class="re0">$e</span><span class="sy0">.</span><span class="me1">init</span><span class="sy0">;</span><br/><span class="kw1">loop</span> <span class="br0">&#123;</span><br/>    XNextEvent<span class="br0">&#40;</span><span class="re0">$display</span><span class="sy0">,</span> <span class="re0">$e</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>    <span class="kw1">if</span> <span class="re0">$e</span><span class="sy0">.</span><span class="me1">type</span> <span class="sy0">==</span> <span class="nu0">12</span> <span class="br0">&#123;</span><br/>	XFillRectangle<span class="br0">&#40;</span><span class="re0">$display</span><span class="sy0">,</span> <span class="re0">$window</span><span class="sy0">,</span> XDefaultGC<span class="br0">&#40;</span><span class="re0">$display</span><span class="sy0">,</span> <span class="re0">$screen</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="nu0">20</span><span class="sy0">,</span> <span class="nu0">20</span><span class="sy0">,</span> <span class="nu0">10</span><span class="sy0">,</span> <span class="nu0">10</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>	XDrawString<span class="br0">&#40;</span><span class="re0">$display</span><span class="sy0">,</span> <span class="re0">$window</span><span class="sy0">,</span> XDefaultGC<span class="br0">&#40;</span><span class="re0">$display</span><span class="sy0">,</span> <span class="re0">$screen</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="nu0">10</span><span class="sy0">,</span> <span class="nu0">50</span><span class="sy0">,</span> <span class="re0">$msg</span><span class="sy0">,</span> <span class="kw1">my</span> int $ <span class="sy0">=</span> <span class="re0">$msg</span><span class="sy0">.</span><span class="kw3">chars</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>    <span class="br0">&#125;</span><br/>    <span class="kw1">elsif</span> <span class="re0">$e</span><span class="sy0">.</span><span class="me1">type</span> <span class="sy0">==</span> <span class="nu0">2</span> <span class="br0">&#123;</span><br/>	<span class="kw1">last</span><span class="sy0">;</span><br/>    <span class="br0">&#125;</span><br/><span class="br0">&#125;</span><br/>XCloseDisplay<span class="br0">&#40;</span><span class="re0">$display</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
<h2><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=17" title="Edit section: PicoLisp">edit</a>]</span> <span class="mw-headline" id="PicoLisp"><a href="/wiki/Category:PicoLisp" title="Category:PicoLisp">PicoLisp</a></span></h2>
<p>The following script works in the 32-bit version, using inlined C code
</p>
<pre class="text highlighted_source">#!/usr/bin/picolisp /usr/lib/picolisp/lib.l<br/>&#160;<br/>(load &quot;@lib/misc.l&quot; &quot;@lib/gcc.l&quot;)<br/>&#160;<br/>(gcc &quot;x11&quot; '(&quot;-lX11&quot;) 'simpleWin)<br/>&#160;<br/>#include &lt;X11/Xlib.h&gt;<br/>&#160;<br/>any simpleWin(any ex) {<br/>   any x = cdr(ex);<br/>   int dx, dy;<br/>   Display *disp;<br/>   int scrn;<br/>   Window win;<br/>   XEvent ev;<br/>&#160;<br/>   x = cdr(ex),  dx = (int)evCnt(ex,x);<br/>   x = cdr(x),  dy = (int)evCnt(ex,x);<br/>   x = evSym(cdr(x));<br/>   if (disp = XOpenDisplay(NULL)) {<br/>      char msg[bufSize(x)];<br/>&#160;<br/>      bufString(x, msg);<br/>      scrn = DefaultScreen(disp);<br/>      win = XCreateSimpleWindow(disp, RootWindow(disp,scrn), 0, 0, dx, dy,<br/>                           1, BlackPixel(disp,scrn), WhitePixel(disp,scrn) );<br/>      XSelectInput(disp, win, ExposureMask | KeyPressMask | ButtonPressMask);<br/>      XMapWindow(disp, win);<br/>      for (;;) {<br/>         XNextEvent(disp, &amp;ev);<br/>         switch (ev.type) {<br/>         case Expose:<br/>            XDrawRectangle(disp, win, DefaultGC(disp, scrn), 10, 10, dx-20, dy-20);<br/>            XDrawString(disp, win, DefaultGC(disp, scrn), 30, 40, msg, strlen(msg));<br/>            break;<br/>         case KeyPress:<br/>         case ButtonPress:<br/>            XCloseDisplay(disp);<br/>            return Nil;<br/>         }<br/>      }<br/>   }<br/>   return mkStr(&quot;Can't open Display&quot;);<br/>}<br/>/**/<br/>&#160;<br/>(simpleWin 300 200 &quot;Hello World&quot;)<br/>(bye)</pre>
<h2><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=18" title="Edit section: Python">edit</a>]</span> <span class="mw-headline" id="Python"><a href="/wiki/Category:Python" title="Category:Python">Python</a></span></h2>
<h3><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=19" title="Edit section: Xlib">edit</a>]</span> <span class="mw-headline" id="Xlib_2"> Xlib </span></h3>
<table class="messagebox" style="text-align: center; background-color: #ffffd8; clear: both;">
<tr>
<td> This example needs review by someone who knows about: <a href="/mw/index.php?title=Category:Field_knowledge_needed/X11&amp;action=edit&amp;redlink=1" class="new" title="Category:Field knowledge needed/X11 (page does not exist)"><b>X11</b></a> <div class="messagebox-inset" style="border: 1px solid #aaa; background: white; color: black; font-size: 89%; padding: 2px;">Note (stolen from CLX example): This example was written in near-total ignorance of X11 by consulting the python-xlib's examples (included in its distribution) to find equivalents for the parts of the C example.</div>
<p>If you know X11, please review this example and, as necessary, improve it or describe what should be done for someone who knows the language.
</p>
</td></tr></table>
<div class="examplemeta translation"><b>Translation of</b>: <a href="/wiki/Window_creation/X11#C" title="Window creation/X11">C</a></div>
<div class="examplemeta libheader"><b>Library:</b> <a href="/wiki/Category:Python-xlib" title="Category:Python-xlib">python-xlib</a></div>
<p>Download Python X library from <a rel="nofollow" class="external free" href="http://sourceforge.net/projects/python-xlib/">http://sourceforge.net/projects/python-xlib/</a> .
python-xlib is a pure python library therefore the example should work anywhere where python does and where there is an X server.
Run:
</p>
<ul><li> python xlib_hello_world.py
</li></ul>
<pre class="python highlighted_source"><span class="kw1">from</span> Xlib <span class="kw1">import</span> X<span class="sy0">,</span> display<br/>&#160;<br/><span class="kw1">class</span> Window:<br/>    <span class="kw1">def</span> <span class="kw4">__init__</span><span class="br0">&#40;</span><span class="kw2">self</span><span class="sy0">,</span> display<span class="sy0">,</span> msg<span class="br0">&#41;</span>:<br/>        <span class="kw2">self</span>.<span class="me1">display</span> <span class="sy0">=</span> display<br/>        <span class="kw2">self</span>.<span class="me1">msg</span> <span class="sy0">=</span> msg<br/>&#160;<br/>        <span class="kw2">self</span>.<span class="me1">screen</span> <span class="sy0">=</span> <span class="kw2">self</span>.<span class="me1">display</span>.<span class="me1">screen</span><span class="br0">&#40;</span><span class="br0">&#41;</span><br/>        <span class="kw2">self</span>.<span class="me1">window</span> <span class="sy0">=</span> <span class="kw2">self</span>.<span class="me1">screen</span>.<span class="me1">root</span>.<span class="me1">create_window</span><span class="br0">&#40;</span><br/>            <span class="nu0">10</span><span class="sy0">,</span> <span class="nu0">10</span><span class="sy0">,</span> <span class="nu0">100</span><span class="sy0">,</span> <span class="nu0">100</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span><br/>            <span class="kw2">self</span>.<span class="me1">screen</span>.<span class="me1">root_depth</span><span class="sy0">,</span><br/>            background_pixel<span class="sy0">=</span><span class="kw2">self</span>.<span class="me1">screen</span>.<span class="me1">white_pixel</span><span class="sy0">,</span><br/>            event_mask<span class="sy0">=</span>X.<span class="me1">ExposureMask</span> | X.<span class="me1">KeyPressMask</span><span class="sy0">,</span><br/>            <span class="br0">&#41;</span><br/>        <span class="kw2">self</span>.<span class="kw3">gc</span> <span class="sy0">=</span> <span class="kw2">self</span>.<span class="me1">window</span>.<span class="me1">create_gc</span><span class="br0">&#40;</span><br/>            foreground <span class="sy0">=</span> <span class="kw2">self</span>.<span class="me1">screen</span>.<span class="me1">black_pixel</span><span class="sy0">,</span><br/>            background <span class="sy0">=</span> <span class="kw2">self</span>.<span class="me1">screen</span>.<span class="me1">white_pixel</span><span class="sy0">,</span><br/>            <span class="br0">&#41;</span><br/>&#160;<br/>        <span class="kw2">self</span>.<span class="me1">window</span>.<span class="kw2">map</span><span class="br0">&#40;</span><span class="br0">&#41;</span><br/>&#160;<br/>    <span class="kw1">def</span> loop<span class="br0">&#40;</span><span class="kw2">self</span><span class="br0">&#41;</span>:<br/>        <span class="kw1">while</span> <span class="kw2">True</span>:<br/>            e <span class="sy0">=</span> <span class="kw2">self</span>.<span class="me1">display</span>.<span class="me1">next_event</span><span class="br0">&#40;</span><span class="br0">&#41;</span><br/>&#160;<br/>            <span class="kw1">if</span> e.<span class="kw2">type</span> <span class="sy0">==</span> X.<span class="me1">Expose</span>:<br/>                <span class="kw2">self</span>.<span class="me1">window</span>.<span class="me1">fill_rectangle</span><span class="br0">&#40;</span><span class="kw2">self</span>.<span class="kw3">gc</span><span class="sy0">,</span> <span class="nu0">20</span><span class="sy0">,</span> <span class="nu0">20</span><span class="sy0">,</span> <span class="nu0">10</span><span class="sy0">,</span> <span class="nu0">10</span><span class="br0">&#41;</span><br/>                <span class="kw2">self</span>.<span class="me1">window</span>.<span class="me1">draw_text</span><span class="br0">&#40;</span><span class="kw2">self</span>.<span class="kw3">gc</span><span class="sy0">,</span> <span class="nu0">10</span><span class="sy0">,</span> <span class="nu0">50</span><span class="sy0">,</span> <span class="kw2">self</span>.<span class="me1">msg</span><span class="br0">&#41;</span><br/>            <span class="kw1">elif</span> e.<span class="kw2">type</span> <span class="sy0">==</span> X.<span class="me1">KeyPress</span>:<br/>                <span class="kw1">raise</span> <span class="kw2">SystemExit</span><br/>&#160;<br/>&#160;<br/><span class="kw1">if</span> __name__ <span class="sy0">==</span> <span class="st0">&quot;__main__&quot;</span>:<br/>    Window<span class="br0">&#40;</span>display.<span class="me1">Display</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="st0">&quot;Hello, World!&quot;</span><span class="br0">&#41;</span>.<span class="me1">loop</span><span class="br0">&#40;</span><span class="br0">&#41;</span></pre>
<h3><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=20" title="Edit section: XCB">edit</a>]</span> <span class="mw-headline" id="XCB_2"> XCB </span></h3>
<div class="examplemeta libheader"><b>Library:</b> <a href="/wiki/Category:Python-xcb" title="Category:Python-xcb">python-xcb</a></div>
<pre class="python highlighted_source"><span class="kw1">import</span> xcb<br/><span class="kw1">from</span> xcb.<span class="me1">xproto</span> <span class="kw1">import</span> *<br/><span class="kw1">import</span> xcb.<span class="me1">render</span><br/>&#160;<br/><span class="kw1">def</span> main<span class="br0">&#40;</span><span class="br0">&#41;</span>:<br/>  conn <span class="sy0">=</span> xcb.<span class="me1">connect</span><span class="br0">&#40;</span><span class="br0">&#41;</span><br/>  conn.<span class="me1">render</span> <span class="sy0">=</span> conn<span class="br0">&#40;</span>xcb.<span class="me1">render</span>.<span class="me1">key</span><span class="br0">&#41;</span><br/>&#160;<br/>  setup <span class="sy0">=</span> conn.<span class="me1">get_setup</span><span class="br0">&#40;</span><span class="br0">&#41;</span><br/>  root <span class="sy0">=</span> setup.<span class="me1">roots</span><span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span>.<span class="me1">root</span><br/>  depth <span class="sy0">=</span> setup.<span class="me1">roots</span><span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span>.<span class="me1">root_depth</span><br/>  visual <span class="sy0">=</span> setup.<span class="me1">roots</span><span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span>.<span class="me1">root_visual</span><br/>  white <span class="sy0">=</span> setup.<span class="me1">roots</span><span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span>.<span class="me1">white_pixel</span><br/>&#160;<br/>  window <span class="sy0">=</span> conn.<span class="me1">generate_id</span><span class="br0">&#40;</span><span class="br0">&#41;</span><br/>  conn.<span class="me1">core</span>.<span class="me1">CreateWindow</span><span class="br0">&#40;</span>depth<span class="sy0">,</span> window<span class="sy0">,</span> root<span class="sy0">,</span><br/>                         <span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">640</span><span class="sy0">,</span> <span class="nu0">480</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span><br/>                         WindowClass.<span class="me1">InputOutput</span><span class="sy0">,</span><br/>                         visual<span class="sy0">,</span><br/>                         CW.<span class="me1">BackPixel</span> | CW.<span class="me1">EventMask</span><span class="sy0">,</span><br/>                         <span class="br0">&#91;</span> white<span class="sy0">,</span> EventMask.<span class="me1">Exposure</span> |<br/>                                  EventMask.<span class="me1">KeyPress</span> <span class="br0">&#93;</span><span class="br0">&#41;</span><br/>&#160;<br/>  conn.<span class="me1">core</span>.<span class="me1">MapWindow</span><span class="br0">&#40;</span>window<span class="br0">&#41;</span><br/>  conn.<span class="me1">flush</span><span class="br0">&#40;</span><span class="br0">&#41;</span><br/>&#160;<br/>  <span class="kw1">while</span> <span class="kw2">True</span>:<br/>    event <span class="sy0">=</span> conn.<span class="me1">wait_for_event</span><span class="br0">&#40;</span><span class="br0">&#41;</span><br/>&#160;<br/>    <span class="kw1">if</span> <span class="kw2">isinstance</span><span class="br0">&#40;</span>event<span class="sy0">,</span> ExposeEvent<span class="br0">&#41;</span>:<br/>      color <span class="sy0">=</span> <span class="br0">&#40;</span><span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">65535</span><span class="sy0">,</span> <span class="nu0">65535</span><span class="br0">&#41;</span><br/>      rectangle <span class="sy0">=</span> <span class="br0">&#40;</span><span class="nu0">20</span><span class="sy0">,</span> <span class="nu0">20</span><span class="sy0">,</span> <span class="nu0">40</span><span class="sy0">,</span> <span class="nu0">40</span><span class="br0">&#41;</span><br/>      <span class="co1"># TODO, fixme:</span><br/>      <span class="co1"># I haven't been able to find what I should put for the parameter &quot;op&quot;</span><br/>   <span class="co1">#  conn.render.FillRectangles(op, window, color, 1, rectangle)</span><br/>      conn.<span class="me1">flush</span><span class="br0">&#40;</span><span class="br0">&#41;</span><br/>&#160;<br/>    <span class="kw1">elif</span> <span class="kw2">isinstance</span><span class="br0">&#40;</span>event<span class="sy0">,</span> KeyPressEvent<span class="br0">&#41;</span>:<br/>      <span class="kw1">break</span><br/>&#160;<br/>  conn.<span class="me1">disconnect</span><span class="br0">&#40;</span><span class="br0">&#41;</span><br/>&#160;<br/>main<span class="br0">&#40;</span><span class="br0">&#41;</span></pre>
<h2><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=21" title="Edit section: Racket">edit</a>]</span> <span class="mw-headline" id="Racket"><a href="/wiki/Category:Racket" title="Category:Racket">Racket</a></span></h2>
<p>Using Racket's GUI which is implemented using gtk. It's not low level, but OTOH it works on Windows and OS X too.
</p>
<pre class="text highlighted_source">#lang racket/gui<br/>&#160;<br/>(define frame (new frame%<br/>                   [label &quot;Example&quot;]<br/>                   [width 300]<br/>                   [height 300]))<br/>(new canvas% [parent frame]<br/>             [paint-callback<br/>              (lambda (canvas dc)<br/>                (send dc set-scale 3 3)<br/>                (send dc set-text-foreground &quot;blue&quot;)<br/>                (send dc draw-text &quot;Don't Panic!&quot; 0 0))])<br/>(send frame show #t)</pre>
<h2><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=22" title="Edit section: Scala">edit</a>]</span> <span class="mw-headline" id="Scala"><a href="/wiki/Category:Scala" title="Category:Scala">Scala</a></span></h2>
<div class="examplemeta libheader"><b>Library:</b> <a href="/wiki/Category:Scala" title="Category:Scala">Scala</a></div><pre class="scala highlighted_source"><a href="http://scala-lang.org"><span class="kw1">import</span></a> scala.<span class="me1">swing</span>.<span class="br0">&#123;</span> MainFrame, SimpleSwingApplication <span class="br0">&#125;</span><br/><a href="http://scala-lang.org"><span class="kw1">import</span></a> scala.<span class="me1">swing</span>.<span class="me1">Swing</span>.<span class="me1">pair2Dimension</span><br/>&#160;<br/><a href="http://scala-lang.org"><span class="kw1">object</span></a> WindowExample <a href="http://scala-lang.org"><span class="kw1">extends</span></a> SimpleSwingApplication <span class="br0">&#123;</span><br/>  <a href="http://scala-lang.org"><span class="kw1">def</span></a> top <span class="sy0">=</span> <a href="http://scala-lang.org"><span class="kw1">new</span></a> MainFrame <span class="br0">&#123;</span><br/>    title <span class="sy0">=</span> <span class="st0">&quot;Hello!&quot;</span><br/>    centerOnScreen<br/>    preferredSize <span class="sy0">=</span> <span class="br0">&#40;</span><span class="br0">&#40;</span><span class="nu0">200</span>, <span class="nu0">150</span><span class="br0">&#41;</span><span class="br0">&#41;</span><br/>  <span class="br0">&#125;</span><br/><span class="br0">&#125;</span></pre>
<h2><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=23" title="Edit section: Tcl">edit</a>]</span> <span class="mw-headline" id="Tcl"><a href="/wiki/Category:Tcl" title="Category:Tcl">Tcl</a></span></h2>
<p>Tcl does not come with a low-level connection to the X protocol, as it has long been distributed with <a href="/wiki/Tk" title="Tk" class="mw-redirect">Tk</a> which offers a <a href="/wiki/Simple_Windowed_Application" title="Simple Windowed Application" class="mw-redirect">much higher-level interface</a> (and which is portable to other platforms too). This means that the interface has to be crafted directly. This can be done with either <a rel="nofollow" class="external text" href="http://www.swig.org/">SWIG</a> or <a href="/wiki/Critcl" title="Critcl" class="mw-redirect">critcl</a>. This example shows how to do it the latter way:
</p>
<h3><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=24" title="Edit section: Low level interface">edit</a>]</span> <span class="mw-headline" id="Low_level_interface">Low level interface</span></h3>
<div class="examplemeta libheader"><b>Library:</b> <a href="/wiki/Category:Critcl" title="Category:Critcl">critcl</a></div>
<pre class="tcl highlighted_source"><span class="kw2">package</span> provide xlib <span class="nu0">1</span><br/><span class="kw2">package</span> require critcl<br/>&#160;<br/>critcl::<span class="me1">clibraries</span> -L/usr/X11/lib -lX11<br/>critcl::<span class="me1">ccode</span> <span class="br0">&#123;</span><br/>    <span class="co1">#include &lt;X11/Xlib.h&gt;</span><br/>    static Display <span class="sy0">*</span>d<span class="sy0">;</span><br/>    static GC gc<span class="sy0">;</span><br/><span class="br0">&#125;</span><br/>&#160;<br/><span class="co1"># Display connection functions</span><br/>critcl::<span class="me1">cproc</span> XOpenDisplay <span class="br0">&#123;</span>Tcl_Interp<span class="sy0">*</span> <span class="kw2">interp</span> char<span class="sy0">*</span> name<span class="br0">&#125;</span> ok <span class="br0">&#123;</span><br/>    d = XOpenDisplay<span class="br0">&#40;</span>name<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span> <span class="sy0">?</span> name&#160;: NULL<span class="br0">&#41;</span><span class="sy0">;</span><br/>    <span class="kw1">if</span> <span class="br0">&#40;</span>d == NULL<span class="br0">&#41;</span> <span class="br0">&#123;</span><br/>	Tcl_AppendResult<span class="br0">&#40;</span><span class="kw2">interp</span>, <span class="st0">&quot;cannot open display&quot;</span>, NULL<span class="br0">&#41;</span><span class="sy0">;</span><br/>	<span class="kw1">return</span> TCL_ERROR<span class="sy0">;</span><br/>    <span class="br0">&#125;</span><br/>    gc = DefaultGC<span class="br0">&#40;</span>d, DefaultScreen<span class="br0">&#40;</span>d<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>    <span class="kw1">return</span> TCL_OK<span class="sy0">;</span><br/><span class="br0">&#125;</span><br/>critcl::<span class="me1">cproc</span> XCloseDisplay <span class="br0">&#123;</span><span class="br0">&#125;</span> void <span class="br0">&#123;</span><br/>    XCloseDisplay<span class="br0">&#40;</span>d<span class="br0">&#41;</span><span class="sy0">;</span><br/><span class="br0">&#125;</span><br/>&#160;<br/><span class="co1"># Basic window functions</span><br/>critcl::<span class="me1">cproc</span> XCreateSimpleWindow <span class="br0">&#123;</span><br/>    int x  int y  int width  int height  int events<br/><span class="br0">&#125;</span> int <span class="br0">&#123;</span><br/>    int s = DefaultScreen<span class="br0">&#40;</span>d<span class="br0">&#41;</span><span class="sy0">;</span><br/>    Window w = XCreateSimpleWindow<span class="br0">&#40;</span>d, RootWindow<span class="br0">&#40;</span>d,s<span class="br0">&#41;</span>, x, y, width, height, <span class="nu0">0</span>,<br/>	    BlackPixel<span class="br0">&#40;</span>d,s<span class="br0">&#41;</span>, WhitePixel<span class="br0">&#40;</span>d,s<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span><br/>    XSelectInput<span class="br0">&#40;</span>d, w, ExposureMask | events<span class="br0">&#41;</span><span class="sy0">;</span><br/>    <span class="kw1">return</span> <span class="br0">&#40;</span>int<span class="br0">&#41;</span> w<span class="sy0">;</span><br/><span class="br0">&#125;</span><br/>critcl::<span class="me1">cproc</span> XDestroyWindow <span class="br0">&#123;</span>int w<span class="br0">&#125;</span> void <span class="br0">&#123;</span><br/>    XDestroyWindow<span class="br0">&#40;</span>d, <span class="br0">&#40;</span>Window<span class="br0">&#41;</span> w<span class="br0">&#41;</span><span class="sy0">;</span><br/><span class="br0">&#125;</span><br/>critcl::<span class="me1">cproc</span> XMapWindow <span class="br0">&#123;</span>int w<span class="br0">&#125;</span> void <span class="br0">&#123;</span><br/>    XMapWindow<span class="br0">&#40;</span>d, <span class="br0">&#40;</span>Window<span class="br0">&#41;</span> w<span class="br0">&#41;</span><span class="sy0">;</span><br/><span class="br0">&#125;</span><br/>critcl::<span class="me1">cproc</span> XUnmapWindow <span class="br0">&#123;</span>int w<span class="br0">&#125;</span> void <span class="br0">&#123;</span><br/>    XUnmapWindow<span class="br0">&#40;</span>d, <span class="br0">&#40;</span>Window<span class="br0">&#41;</span> w<span class="br0">&#41;</span><span class="sy0">;</span><br/><span class="br0">&#125;</span><br/>&#160;<br/><span class="co1"># Event receiver</span><br/>critcl::<span class="me1">cproc</span> XNextEvent <span class="br0">&#123;</span>Tcl_Interp<span class="sy0">*</span> <span class="kw2">interp</span><span class="br0">&#125;</span> char<span class="sy0">*</span> <span class="br0">&#123;</span><br/>    XEvent e<span class="sy0">;</span><br/>    XNextEvent<span class="br0">&#40;</span>d, <span class="sy0">&amp;</span>e<span class="br0">&#41;</span><span class="sy0">;</span><br/>    <span class="kw1">switch</span> <span class="br0">&#40;</span>e.type<span class="br0">&#41;</span> <span class="br0">&#123;</span><br/>	<span class="kw1">case</span> Expose:	<span class="kw1">return</span> <span class="st0">&quot;type expose&quot;</span><span class="sy0">;</span><br/>	<span class="kw1">case</span> KeyPress:	<span class="kw1">return</span> <span class="st0">&quot;type key&quot;</span><span class="sy0">;</span><br/>	/<span class="sy0">*</span> etc. This is a cheap hack version. <span class="sy0">*</span>/<br/>	<span class="kw1">default</span>:	<span class="kw1">return</span> <span class="st0">&quot;type&#160;?&quot;</span><span class="sy0">;</span><br/>    <span class="br0">&#125;</span><br/><span class="br0">&#125;</span><br/>&#160;<br/><span class="co1"># Painting functions</span><br/>critcl::<span class="me1">cproc</span> XFillRectangle <span class="br0">&#123;</span>int w int x int y int width int height<span class="br0">&#125;</span> void <span class="br0">&#123;</span><br/>    XFillRectangle<span class="br0">&#40;</span>d, <span class="br0">&#40;</span>Window<span class="br0">&#41;</span>w, gc, x, y, width, height<span class="br0">&#41;</span><span class="sy0">;</span><br/><span class="br0">&#125;</span><br/>critcl::<span class="me1">cproc</span> XDrawString <span class="br0">&#123;</span>int w int x int y Tcl_Obj<span class="sy0">*</span> msg<span class="br0">&#125;</span> void <span class="br0">&#123;</span><br/>    int len<span class="sy0">;</span><br/>    const char <span class="sy0">*</span>str = Tcl_GetStringFromObj<span class="br0">&#40;</span>msg, <span class="sy0">&amp;</span>len<span class="br0">&#41;</span><span class="sy0">;</span><br/>    XDrawString<span class="br0">&#40;</span>d, <span class="br0">&#40;</span>Window<span class="br0">&#41;</span>w, gc, x, y, str, len<span class="br0">&#41;</span><span class="sy0">;</span><br/><span class="br0">&#125;</span></pre>
<p>Note that this only does enough for this demo. A full adaptation is too long for RosettaCode...
</p><p>This could then be used like this:
</p>
<pre class="tcl highlighted_source"><span class="kw2">package</span> require xlib<br/>&#160;<br/>XOpenDisplay <span class="br0">&#123;</span><span class="br0">&#125;</span><br/><span class="kw1">set</span> w <span class="br0">&#91;</span>XCreateSimpleWindow <span class="nu0">10</span> <span class="nu0">10</span> <span class="nu0">100</span> <span class="nu0">100</span> <span class="nu0">1</span><span class="br0">&#93;</span><br/>XMapWindow <span class="re0">$w</span><br/><span class="kw1">while</span> <span class="br0">&#123;</span><span class="br0">&#91;</span><span class="kw2">lindex</span> <span class="br0">&#91;</span>XNextEvent<span class="br0">&#93;</span> <span class="nu0">0</span><span class="br0">&#93;</span> == <span class="st0">&quot;expose&quot;</span><span class="br0">&#125;</span> <span class="br0">&#123;</span><br/>    XFillRectangle <span class="re0">$w</span> <span class="nu0">20</span> <span class="nu0">20</span> <span class="nu0">10</span> <span class="nu0">10</span><br/>    XDrawString <span class="re0">$w</span> <span class="nu0">10</span> <span class="nu0">50</span> <span class="st0">&quot;Hello, World!&quot;</span><br/><span class="br0">&#125;</span><br/>XDestroyWindow <span class="re0">$w</span><br/>XCloseDisplay</pre>
<h3><span class="editsection">[<a href="/mw/index.php?title=Window_creation/X11&amp;action=edit&amp;section=25" title="Edit section: Higher level interface">edit</a>]</span> <span class="mw-headline" id="Higher_level_interface">Higher level interface</span></h3>
<p>Just because there is a low level package does not mean that it is pleasant to use from Tcl code. Therefore this second package wraps it up inside a higher-level package that provides a more natural way of interacting.
<br/>
</p>
<div class="examplemeta workswith"><b>Works with</b>: <a href="/wiki/Tcl" title="Tcl" class="mw-redirect">Tcl</a> version 8.6</div> or <div class="examplemeta libheader"><b>Library:</b> <a href="/wiki/Category:TclOO" title="Category:TclOO">TclOO</a></div>
<pre class="tcl highlighted_source"><span class="kw2">package</span> require TclOO<br/><span class="kw2">package</span> provide x11 <span class="nu0">1</span><br/>&#160;<br/><span class="kw1">namespace</span> <span class="kw1">eval</span>&#160;::<span class="me1">x</span> <span class="br0">&#123;</span><br/>    <span class="kw1">namespace</span> export <span class="br0">&#123;</span><span class="br0">&#91;</span>a-z<span class="br0">&#93;</span><span class="sy0">*</span><span class="br0">&#125;</span><br/>    <span class="kw1">namespace</span> ensemble create<br/>    <span class="kw1">variable</span> mask<br/>    array <span class="kw1">set</span> mask <span class="br0">&#123;</span><br/>	KeyPress	<span class="nu0">1</span><br/>	KeyRelease	<span class="nu0">2</span><br/>	ButtonPress	<span class="nu0">4</span><br/>	ButtonRelease	<span class="nu0">8</span><br/>    <span class="br0">&#125;</span><br/>&#160;<br/>    <span class="kw1">proc</span> display <span class="br0">&#123;</span>script<span class="br0">&#125;</span> <span class="br0">&#123;</span><br/>	XOpenDisplay <span class="br0">&#123;</span><span class="br0">&#125;</span><br/>	<span class="kw1">catch</span> <span class="br0">&#123;</span><span class="kw1">uplevel</span> <span class="nu0">1</span> <span class="re0">$script</span><span class="br0">&#125;</span> msg opts<br/>	XCloseDisplay<br/>	<span class="kw1">return</span> -options <span class="re0">$opts</span> <span class="re0">$msg</span><br/>    <span class="br0">&#125;</span><br/>    <span class="kw1">proc</span> eventloop <span class="br0">&#123;</span>var handlers<span class="br0">&#125;</span> <span class="br0">&#123;</span><br/>	<span class="kw1">upvar</span> <span class="nu0">1</span> <span class="re0">$var</span> v<br/>	<span class="kw1">while</span> <span class="nu0">1</span> <span class="br0">&#123;</span><br/>	    <span class="kw1">set</span> v <span class="br0">&#91;</span>XNextEvent<span class="br0">&#93;</span><br/>	    <span class="kw1">uplevel</span> <span class="nu0">1</span> <span class="br0">&#91;</span><span class="kw2">list</span> <span class="kw1">switch</span> <span class="br0">&#91;</span>dict get <span class="re0">$v</span> type<span class="br0">&#93;</span> <span class="re0">$handlers</span><span class="br0">&#93;</span><br/>	<span class="br0">&#125;</span><br/>    <span class="br0">&#125;</span><br/>&#160;<br/>    oo::<span class="me1">class</span> create window <span class="br0">&#123;</span><br/>	<span class="kw1">variable</span> w<br/>        constructor <span class="br0">&#123;</span>x y width height events<span class="br0">&#125;</span> <span class="br0">&#123;</span><br/>	    <span class="kw1">set</span> m <span class="nu0">0</span><br/>	    <span class="kw1">variable</span>&#160;::<span class="me1">x</span>::<span class="me1">mask</span><br/>	    <span class="kw1">foreach</span> e <span class="re0">$events</span> <span class="br0">&#123;</span><span class="kw1">catch</span> <span class="br0">&#123;</span><span class="kw2">incr</span> m <span class="re0">$mask</span><span class="br0">&#40;</span><span class="re0">$e</span><span class="br0">&#41;</span><span class="br0">&#125;</span><span class="br0">&#125;</span><br/>	    <span class="kw1">set</span> w <span class="br0">&#91;</span>XCreateSimpleWindow <span class="re0">$x</span> <span class="re0">$y</span> <span class="re0">$width</span> <span class="re0">$height</span> <span class="re0">$m</span><span class="br0">&#93;</span><br/>	<span class="br0">&#125;</span><br/>	<span class="kw1">method</span> map <span class="br0">&#123;</span><span class="br0">&#125;</span> <span class="br0">&#123;</span><br/>	    XMapWindow <span class="re0">$w</span><br/>	<span class="br0">&#125;</span><br/>	<span class="kw1">method</span> unmap <span class="br0">&#123;</span><span class="br0">&#125;</span> <span class="br0">&#123;</span><br/>	    XUnmapWindow <span class="re0">$w</span><br/>	<span class="br0">&#125;</span><br/>	<span class="kw1">method</span> fill <span class="br0">&#123;</span>x y width height<span class="br0">&#125;</span> <span class="br0">&#123;</span><br/>	    XFillRectangle <span class="re0">$w</span> <span class="re0">$x</span> <span class="re0">$y</span> <span class="re0">$width</span> <span class="re0">$height</span><br/>	<span class="br0">&#125;</span><br/>	<span class="kw1">method</span> text <span class="br0">&#123;</span>x y <span class="kw2">string</span><span class="br0">&#125;</span> <span class="br0">&#123;</span><br/>	    XDrawString <span class="re0">$w</span> <span class="re0">$x</span> <span class="re0">$y</span> <span class="re0">$string</span><br/>	<span class="br0">&#125;</span><br/>	destructor <span class="br0">&#123;</span><br/>	    XDestroyWindow <span class="re0">$w</span><br/>	<span class="br0">&#125;</span><br/>    <span class="br0">&#125;</span><br/><span class="br0">&#125;</span></pre>
<p>This script puts the pieces together to carry out the details of the task.
</p>
<pre class="tcl highlighted_source"><span class="kw2">package</span> require x11<br/>&#160;<br/><span class="co1"># With a display connection open, create and map a window</span><br/>x display <span class="br0">&#123;</span><br/>    <span class="kw1">set</span> w <span class="br0">&#91;</span>x window new <span class="nu0">10</span> <span class="nu0">10</span> <span class="nu0">100</span> <span class="nu0">100</span> KeyPress<span class="br0">&#93;</span><br/>    <span class="re0">$w</span> map<br/>&#160;<br/>    x eventloop ev <span class="br0">&#123;</span><br/>	expose <span class="br0">&#123;</span><br/>	    <span class="co1"># Paint the window</span><br/>	    <span class="re0">$w</span> fill <span class="nu0">20</span> <span class="nu0">20</span> <span class="nu0">10</span> <span class="nu0">10</span><br/>	    <span class="re0">$w</span> text <span class="nu0">10</span> <span class="nu0">50</span> <span class="st0">&quot;Hello, World!&quot;</span><br/>	<span class="br0">&#125;</span><br/>	key <span class="br0">&#123;</span><br/>	    <span class="co1"># Quit the event loop</span><br/>	    <span class="kw1">break</span><br/>	<span class="br0">&#125;</span><br/>    <span class="br0">&#125;</span><br/>&#160;<br/>    <span class="re0">$w</span> destroy<br/><span class="br0">&#125;</span></pre>
<p>Improving this by adding more sophisticated event handling and more window methods is left as an exercise.
omit from|ZX Spectrum Basic|No X11 server access.}}
</p>
 
 
</div>  
 
<div class="printfooter">
Retrieved from "<a href="http://rosettacode.org/mw/index.php?title=Window_creation/X11&amp;oldid=206153">http://rosettacode.org/mw/index.php?title=Window_creation/X11&amp;oldid=206153</a>" </div>
 
 
<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/wiki/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="/wiki/Category:Programming_Tasks" title="Category:Programming Tasks">Programming Tasks</a></li><li><a href="/wiki/Category:GUI" title="Category:GUI">GUI</a></li><li><a href="/wiki/Category:ALGOL_68" title="Category:ALGOL 68">ALGOL 68</a></li><li><a href="/wiki/Category:AutoHotkey/Omit" title="Category:AutoHotkey/Omit">AutoHotkey/Omit</a></li><li><a href="/wiki/Category:C" title="Category:C">C</a></li><li><a href="/wiki/Category:Xlib" title="Category:Xlib">Xlib</a></li><li><a href="/wiki/Category:XCB" title="Category:XCB">XCB</a></li><li><a href="/wiki/Category:Common_Lisp" title="Category:Common Lisp">Common Lisp</a></li><li><a href="/wiki/Category:Common_Lisp_examples_needing_attention" title="Category:Common Lisp examples needing attention">Common Lisp examples needing attention</a></li><li><a href="/wiki/Category:Examples_needing_attention" title="Category:Examples needing attention">Examples needing attention</a></li><li><a href="/mw/index.php?title=Category:Field_knowledge_needed/X11&amp;action=edit&amp;redlink=1" class="new" title="Category:Field knowledge needed/X11 (page does not exist)">Field knowledge needed/X11</a></li><li><a href="/mw/index.php?title=Category:Field_knowledge_needed/X11/Common_Lisp&amp;action=edit&amp;redlink=1" class="new" title="Category:Field knowledge needed/X11/Common Lisp (page does not exist)">Field knowledge needed/X11/Common Lisp</a></li><li><a href="/wiki/Category:CLX" title="Category:CLX">CLX</a></li><li><a href="/wiki/Category:Go" title="Category:Go">Go</a></li><li><a href="/wiki/Category:GUISS" title="Category:GUISS">GUISS</a></li><li><a href="/wiki/Category:Icon" title="Category:Icon">Icon</a></li><li><a href="/wiki/Category:Unicon" title="Category:Unicon">Unicon</a></li><li><a href="/wiki/Category:Icon_Programming_Library" title="Category:Icon Programming Library">Icon Programming Library</a></li><li><a href="/wiki/Category:Haskell" title="Category:Haskell">Haskell</a></li><li><a href="/mw/index.php?title=Category:X11&amp;action=edit&amp;redlink=1" class="new" title="Category:X11 (page does not exist)">X11</a></li><li><a href="/wiki/Category:Java" title="Category:Java">Java</a></li><li><a href="/wiki/Category:Mathematica" title="Category:Mathematica">Mathematica</a></li><li><a href="/wiki/Category:OCaml" title="Category:OCaml">OCaml</a></li><li><a href="/wiki/Category:OCaml-Xlib" title="Category:OCaml-Xlib">OCaml-Xlib</a></li><li><a href="/wiki/Category:TI-83_BASIC/Omit" title="Category:TI-83 BASIC/Omit">TI-83 BASIC/Omit</a></li><li><a href="/wiki/Category:TI-89_BASIC/Omit" title="Category:TI-89 BASIC/Omit">TI-89 BASIC/Omit</a></li><li><a href="/wiki/Category:PureBasic/Omit" title="Category:PureBasic/Omit">PureBasic/Omit</a></li><li><a href="/wiki/Category:Pascal" title="Category:Pascal">Pascal</a></li><li><a href="/mw/index.php?title=Category:XLib,_x_,ctypes&amp;action=edit&amp;redlink=1" class="new" title="Category:XLib, x ,ctypes (page does not exist)">XLib, x ,ctypes</a></li><li><a href="/wiki/Category:Perl" title="Category:Perl">Perl</a></li><li><a href="/wiki/Category:Perl_6" title="Category:Perl 6">Perl 6</a></li><li><a href="/wiki/Category:PicoLisp" title="Category:PicoLisp">PicoLisp</a></li><li><a href="/wiki/Category:Python" title="Category:Python">Python</a></li><li><a href="/wiki/Category:Python_examples_needing_attention" title="Category:Python examples needing attention">Python examples needing attention</a></li><li><a href="/mw/index.php?title=Category:Field_knowledge_needed/X11/Python&amp;action=edit&amp;redlink=1" class="new" title="Category:Field knowledge needed/X11/Python (page does not exist)">Field knowledge needed/X11/Python</a></li><li><a href="/wiki/Category:Python-xlib" title="Category:Python-xlib">Python-xlib</a></li><li><a href="/wiki/Category:Python-xcb" title="Category:Python-xcb">Python-xcb</a></li><li><a href="/wiki/Category:Racket" title="Category:Racket">Racket</a></li><li><a href="/wiki/Category:Scala" title="Category:Scala">Scala</a></li><li><a href="/wiki/Category:Tcl" title="Category:Tcl">Tcl</a></li><li><a href="/wiki/Category:Critcl" title="Category:Critcl">Critcl</a></li><li><a href="/wiki/Category:TclOO" title="Category:TclOO">TclOO</a></li><li><a href="/wiki/Category:ACL2/Omit" title="Category:ACL2/Omit">ACL2/Omit</a></li><li><a href="/wiki/Category:Batch_File/Omit" title="Category:Batch File/Omit">Batch File/Omit</a></li><li><a href="/wiki/Category:AWK/Omit" title="Category:AWK/Omit">AWK/Omit</a></li><li><a href="/wiki/Category:Erlang/Omit" title="Category:Erlang/Omit">Erlang/Omit</a></li><li><a href="/wiki/Category:Locomotive_Basic/Omit" title="Category:Locomotive Basic/Omit">Locomotive Basic/Omit</a></li><li><a href="/wiki/Category:Logtalk/Omit" title="Category:Logtalk/Omit">Logtalk/Omit</a></li><li><a href="/wiki/Category:Lotus_123_Macro_Scripting/Omit" title="Category:Lotus 123 Macro Scripting/Omit">Lotus 123 Macro Scripting/Omit</a></li><li><a href="/wiki/Category:M4/Omit" title="Category:M4/Omit">M4/Omit</a></li><li><a href="/wiki/Category:Maxima/Omit" title="Category:Maxima/Omit">Maxima/Omit</a></li><li><a href="/wiki/Category:PARI/GP/Omit" title="Category:PARI/GP/Omit">PARI/GP/Omit</a></li><li><a href="/wiki/Category:PostScript/Omit" title="Category:PostScript/Omit">PostScript/Omit</a></li><li><a href="/wiki/Category:PowerBASIC/Omit" title="Category:PowerBASIC/Omit">PowerBASIC/Omit</a></li><li><a href="/wiki/Category:SNOBOL4/Omit" title="Category:SNOBOL4/Omit">SNOBOL4/Omit</a></li><li><a href="/wiki/Category:TPP/Omit" title="Category:TPP/Omit">TPP/Omit</a></li><li><a href="/wiki/Category:Unlambda/Omit" title="Category:Unlambda/Omit">Unlambda/Omit</a></li><li><a href="/wiki/Category:Retro/Omit" title="Category:Retro/Omit">Retro/Omit</a></li></ul></div></div>  
<div class="visualClear"></div>
 
 
</div>
 
</div>
 
 
<div id="mw-head" class="noprint">
 
<div id="p-personal" class="">
<h5>Personal tools</h5>
<ul>
<li id="pt-createaccount"><a href="/mw/index.php?title=Special:UserLogin&amp;returnto=Window+creation%2FX11&amp;type=signup">Create account</a></li>
<li id="pt-login"><a href="/mw/index.php?title=Special:UserLogin&amp;returnto=Window+creation%2FX11" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
</ul>
</div>
 
<div id="left-navigation">
 
<div id="p-namespaces" class="vectorTabs">
<h5>Namespaces</h5>
<ul>
<li id="ca-nstab-main" class="selected"><span><a href="/wiki/Window_creation/X11" title="View the content page [c]" accesskey="c">Page</a></span></li>
<li id="ca-talk"><span><a href="/wiki/Talk:Window_creation/X11" title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
</ul>
</div>
 
 
<div id="p-variants" class="vectorMenu emptyPortlet">
<h4>
</h4>
<h5><span>Variants</span><a href="#"></a></h5>
<div class="menu">
<ul>
</ul>
</div>
</div>
 
</div>
<div id="right-navigation">
 
<div id="p-views" class="vectorTabs">
<h5>Views</h5>
<ul>
<li id="ca-view" class="selected"><span><a href="/wiki/Window_creation/X11">Read</a></span></li>
<li id="ca-edit"><span><a href="/mw/index.php?title=Window_creation/X11&amp;action=edit" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></span></li>
<li id="ca-history" class="collapsible"><span><a href="/mw/index.php?title=Window_creation/X11&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
</ul>
</div>
 
 
<div id="p-cactions" class="vectorMenu emptyPortlet">
<h5><span>Actions</span><a href="#"></a></h5>
<div class="menu">
<ul>
</ul>
</div>
</div>
 
 
<div id="p-search">
<h5><label for="searchInput">Search</label></h5>
<form action="/mw/index.php" id="searchform">
<div>
<input type="search" name="search" title="Search Rosetta Code [f]" accesskey="f" id="searchInput"/> <input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton"/> <input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"/> <input type='hidden' name="title" value="Special:Search"/>
</div>
</form>
</div>
 
</div>
</div>
 
 
<div id="mw-panel" class="noprint">
 
<div id="p-logo"><a style="background-image: url(/mw/title.png);" href="/wiki/Rosetta_Code" title="Visit the main page"></a></div>
 
 
<div class="portal" id='p-Community'>
<h5>Community</h5>
<div class="body">
<ul>
<li id="n-Twitter"><a href="http://twitter.com/rosettacode" rel="nofollow">Twitter</a></li>
<li id="n-Chat.2FIRC"><a href="/wiki/Special:WebChat">Chat/IRC</a></li>
<li id="n-Planet"><a href="http://rosettacode.org/planet" rel="nofollow">Planet</a></li>
<li id="n-The-Village-Pump"><a href="/wiki/Rosetta_Code:Village_Pump">The Village Pump</a></li>
<li id="n-Finances"><a href="/wiki/Rosetta_Code:Finances">Finances</a></li>
</ul>
</div>
</div>
 
 
<div class="portal" id='p-Explore'>
<h5>Explore</h5>
<div class="body">
<ul>
<li id="n-Languages"><a href="/wiki/Category:Programming_Languages">Languages</a></li>
<li id="n-Tasks"><a href="/wiki/Category:Programming_Tasks">Tasks</a></li>
<li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
<li id="n-Similar-sites"><a href="/wiki/Help:Similar_Sites">Similar sites</a></li>
<li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
</ul>
</div>
</div>
 
 
<div class="portal" id='p-Misc'>
<h5>Misc</h5>
<div class="body">
 
<g:plusone></g:plusone>
 
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
<a href="https://twitter.com/share" class="twitter-share-button" data-lang="en" data-size="large" data-hashtags="rosettacode">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
<script src="http://www.stumbleupon.com/hostedbadge.php?s=2"></script> </div>
</div>
 
 
 
 
<div class="portal" id='p-tb'>
<h5>Toolbox</h5>
<div class="body">
<ul>
<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Window_creation/X11" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
<li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Window_creation/X11" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
<li id="t-print"><a href="/mw/index.php?title=Window_creation/X11&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
<li id="t-permalink"><a href="/mw/index.php?title=Window_creation/X11&amp;oldid=206153" title="Permanent link to this revision of the page">Permanent link</a></li>
<li id="t-smwbrowselink"><a href="/wiki/Special:Browse/Window_creation-2FX11" title="Special:Browse/Window creation-2FX11">Browse properties</a></li> </ul>
</div>
</div>
 
 
 
</div>
 
 
<div id="footer">
<ul id="footer-info">
<li id="footer-info-lastmod"> This page was last modified on 19 June 2015, at 17:31.</li>
<li id="footer-info-copyright">Content is available under <a class="external" href="http://www.gnu.org/licenses/fdl-1.2.html">GNU Free Documentation License 1.2</a>.</li>
</ul>
<ul id="footer-places">
<li id="footer-places-privacy"><a href="/wiki/Rosetta_Code:Privacy_policy" title="Rosetta Code:Privacy policy">Privacy policy</a></li>
<li id="footer-places-about"><a href="/wiki/Rosetta_Code:About" title="Rosetta Code:About">About Rosetta Code</a></li>
<li id="footer-places-disclaimer"><a href="/wiki/Rosetta_Code:General_disclaimer" title="Rosetta Code:General disclaimer">Disclaimers</a></li>
</ul>
<ul id="footer-icons" class="noprint">
<li id="footer-copyrightico">
<a href="http://www.gnu.org/licenses/fdl-1.2.html"><img src="/mw/skins/common/images/gnu-fdl.png" alt="GNU Free Documentation License 1.2" width="88" height="31"/></a>
</li>
<li id="footer-poweredbyico">
<a href="//www.mediawiki.org/"><img src="/mw/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31"/></a>
<a href="http://www.semantic-mediawiki.org/wiki/Semantic_MediaWiki"><img src="/mw/extensions/SemanticMediaWiki/skins/images/smw_button.png" alt="Powered by Semantic MediaWiki" width="88" height="31"/></a>
</li>
</ul>
<div style="clear:both"></div>
</div>
 
<script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script src="http://rosettacode.org/mw/load.php?debug=false&amp;lang=en&amp;modules=skins.vector&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest"], null, true);
}</script>
<script type="text/javascript">/* CloudFlare analytics upgrade */
</script>
<script src="http://rosettacode.org/mw/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
 
</body>
</html>
